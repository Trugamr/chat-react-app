(this["webpackJsonpchat-react-app"]=this["webpackJsonpchat-react-app"]||[]).push([[0],{74:function(n,e,t){n.exports=t(97)},83:function(n,e,t){},97:function(n,e,t){"use strict";t.r(e);var r=t(15),a=t(16),i=t(17),o=t(18),c=t(1),A=t.n(c),l=t(14),u=t(9),s=t(47),g=t.n(s),d=(t(83),t(3)),f=t(2);function m(){var n=Object(d.a)(["\n  height: 100%;\n  width: 100%;\n  display: grid;\n  grid-template-columns: minmax(260px, 25%) auto 25%;\n  background-color: ",";\n"]);return m=function(){return n},n}var h=f.c.div(m(),(function(n){return n.theme.bg}));function p(){var n=Object(d.a)(["\n  height: 100%;\n  width: 100%;\n  background-color: ",";\n  padding: 14px;\n\n  > :nth-child(n) {\n    margin-bottom: 16px;\n  }\n\n  > :last-child {\n    margin-bottom: 0px;\n  }\n"]);return p=function(){return n},n}var b=f.c.div(p(),(function(n){return n.theme.sidePanel.bg})),C=t(42),I=t(24),v=t(31),x=t(40),y=t.n(x);t(98),t(84),t(87),t(89),t(99);y.a.initializeApp({apiKey:"AIzaSyBKsHwiG5NuXxuvSN-7jZZLMDqqUDpIlbA",authDomain:"chat-react-app-9357c.firebaseapp.com",databaseURL:"https://chat-react-app-9357c.firebaseio.com",projectId:"chat-react-app-9357c",storageBucket:"chat-react-app-9357c.appspot.com",messagingSenderId:"700067181378",appId:"1:700067181378:web:a3b7eeb1503a2e1a728edb",measurementId:"G-NJ947Z6DGB"}),y.a.analytics();var E=y.a.auth(),w=y.a.firestore(),S=y.a.database(),k=y.a.storage(),j=y.a,O=function(n){return n.user},B=Object(u.a)([O],(function(n){return n.currentUser})),M=Object(u.a)([O],(function(n){return n.isLoading})),D=Object(u.a)([O],(function(n){return n.status})),R={SET_CURRENT_USER:"SET_CURRENT_USER",CLEAR_CURRENT_USER:"CLEAR_CURRENT_USER",SET_USER_IS_LOADING:"SET_USER_IS_LOADING",SET_USER_STATUS:"SET_USER_STATUS",SET_STARRED_CHANNELS:"SET_STARRED_CHANNELS"},U=function(n){return{type:R.SET_CURRENT_USER,payload:n}},T={SET_THEME:"SET_THEME"},N=Object(u.a)([function(n){return n.theme}],(function(n){return n.currentTheme}));function P(){var n=Object(d.a)(["\n  height: 12px;\n  width: 12px;\n  border-radius: 14px;\n  background-color: ",";\n"]);return P=function(){return n},n}function Q(){var n=Object(d.a)(["\n  background-color: ",";\n  padding: 10px;\n  display: flex;\n  align-items: center;\n  border-radius: 6px;\n  justify-content: center;\n"]);return Q=function(){return n},n}function J(){var n=Object(d.a)(["\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-gap: 6px;\n  grid-template-columns: repeat(3, 1fr);\n"]);return J=function(){return n},n}function H(){var n=Object(d.a)(["\n  max-height: ",";\n  width: 100%;\n  background-color: ",";\n  position: absolute;\n  z-index: 2;\n  top: 64px;\n  border-radius: 0px 0px 14px 14px;\n  transition: ease max-height 0.3s;\n  overflow: hidden;\n  padding: 0px 12px;\n\n  li {\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    padding: 8px;\n    margin-bottom: 3px;\n\n    :last-child {\n      border-radius: 0px 0px 6px 6px;\n      margin-bottom: 15px;\n    }\n\n    span {\n      color: ",";\n      font-family: 'archiaregular';\n      font-size: 14px;\n      margin-left: 6px;\n    }\n\n    &:hover {\n      background-color: ",";\n    }\n\n    &.status-box {\n      padding: 0px;\n\n      &:hover {\n        background-color: transparent;\n      }\n    }\n  }\n"]);return H=function(){return n},n}function G(){var n=Object(d.a)(["\n  margin-top: 12px;\n  height: 1px;\n  background-color: ",";\n  border: none;\n"]);return G=function(){return n},n}function V(){var n=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  svg {\n    width: 16px;\n    cursor: pointer;\n    transition: ease transform 0.2s;\n    transform: ",";\n  }\n"]);return V=function(){return n},n}function L(){var n=Object(d.a)(["\n  height: 12px;\n  width: 12px;\n  margin: auto 0px;\n  border-radius: 9999px;\n  background-color: ",";\n"]);return L=function(){return n},n}function z(){var n=Object(d.a)(["\n  display: flex;\n  align-items: center;\n\n  span {\n    color: ",";\n    font-family: 'archiaregular';\n    text-transform: capitalize;\n    margin-left: 5px;\n    font-size: 13px;\n  }\n"]);return z=function(){return n},n}function W(){var n=Object(d.a)(["\n  color: ",";\n  font-family: 'archiasemibold';\n  font-size: 16px;\n  margin-bottom: 4px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return W=function(){return n},n}function F(){var n=Object(d.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 0px 10px;\n  width: 100%;\n  overflow: hidden;\n  white-space: nowrap;\n"]);return F=function(){return n},n}function X(){var n=Object(d.a)(["\n  width: 52px;\n  height: 52px;\n  border: 8px;\n  border-radius: 12px;\n  background-color: white;\n  overflow: hidden;\n"]);return X=function(){return n},n}function Z(){var n=Object(d.a)(["\n  display: grid;\n  grid-template-columns: 52px auto 20px;\n  padding: 12px;\n"]);return Z=function(){return n},n}function Y(){var n=Object(d.a)(["\n  width: 100%;\n  height: 76px;\n  border-radius: 14px;\n  background-color: ",";\n  transition: ease max-height 0.4s;\n  position: relative;\n  /* max-height: ","; */\n"]);return Y=function(){return n},n}var K=f.c.div(Y(),(function(n){return n.theme.userStatusCard.bg}),(function(n){return n.opened?"76px":"200px"})),q=f.c.div(Z()),_=f.c.div(X()),$=f.c.div(F()),nn=f.c.p(W(),(function(n){return n.theme.userStatusCard.text})),en=f.c.div(z(),(function(n){return n.theme.userStatusCard.subText})),tn=f.c.div(L(),(function(n){var e=n.theme.userStatusCard.statusColors,t=n.status;return"online"===t?e.online:"away"===t?e.away:e.offline})),rn=f.c.div(V(),(function(n){return n.opened?"rotate(180deg)":"rotate(0deg)"})),an=f.c.hr(G(),(function(n){return n.theme.userStatusCard.icon})),on=f.c.ul(H(),(function(n){return n.opened?"180px":"0px"}),(function(n){return n.theme.userStatusCard.bg}),(function(n){return n.theme.userStatusCard.subText}),(function(n){return n.theme.userStatusCard.optionBg})),cn=f.c.div(J()),An=f.c.div(Q(),(function(n){return n.theme.userStatusCard.icon})),ln=f.c.div(P(),(function(n){var e=n.theme,t=n.name;return"online"===t?e.userStatusCard.statusColors.online:"offline"===t?e.userStatusCard.statusColors.offline:e.userStatusCard.statusColors.away})),un=t(67);function sn(){var n=Object(d.a)(["\n  margin-left: 10px;\n  border: 2px solid transparent;\n  font-family: 'archiasemibold';\n  cursor: pointer;\n  outline: none;\n  border-radius: 8px;\n  padding: 6px;\n  min-width: 70px;\n  font-size: 15px;\n\n  &.close {\n    color: ",";\n    background-color: ",";\n    border: 2px solid ",";\n  }\n\n  &.confirm {\n    color: ",";\n    background-color: ",";\n  }\n"]);return sn=function(){return n},n}function gn(){var n=Object(d.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 10px;\n"]);return gn=function(){return n},n}function dn(){var n=Object(d.a)(["\n  width: 100%;\n  display: grid;\n  grid-template-columns: auto 80px 0px;\n\n  label {\n    font-family: 'archiasemibold';\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 6px 12px;\n    font-size: 16px;\n    height: 100%;\n    width: 100%;\n    cursor: pointer;\n    border-radius: 0px 8px 8px 0px;\n    color: ",";\n    background-color: ",";\n  }\n\n  span {\n    min-width: 160px;\n    padding: 8px;\n    border: 0px;\n    background-color: ",";\n    color: ",";\n    border-radius: 8px;\n    font-family: 'archiaregular';\n    font-size: 16px;\n  }\n\n  input {\n    width: 0.1px;\n    height: 0.1px;\n    opacity: 0;\n    overflow: hidden;\n    position: absolute;\n    z-index: -1;\n\n    &:focus {\n      outline: none;\n    }\n\n    &::placeholder {\n      color: ",";\n    }\n  }\n"]);return dn=function(){return n},n}function fn(){var n=Object(d.a)(["\n  display: grid;\n  grid-gap: 10px;\n"]);return fn=function(){return n},n}function mn(){var n=Object(d.a)(["\n  display: grid;\n  grid-template-rows: auto 30px;\n  justify-content: center;\n  align-items: center;\n\n  input {\n    margin-top: 10px;\n    -webkit-appearance: none;\n    appearance: none;\n    width: 100%;\n    height: 8px;\n    background-color: ",";\n    outline: none;\n\n    &::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      appearance: none;\n      width: 14px;\n      height: 14px;\n      border-radius: 10px;\n      background-color: ",";\n      cursor: pointer;\n    }\n  }\n"]);return mn=function(){return n},n}function hn(){var n=Object(d.a)(["\n  color: ",";\n  font-size: 20px;\n  font-family: 'archiasemibold';\n"]);return hn=function(){return n},n}function pn(){var n=Object(d.a)(["\n  padding: 20px;\n  border-radius: 12px;\n  visibility: hidden;\n  background: ",";\n  display: grid;\n  grid-gap: 16px;\n\n  ","\n"]);return pn=function(){return n},n}function bn(){var n=Object(d.a)(["\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  left: 0;\n  position: fixed;\n  z-index: 10;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  visibility: hidden;\n\n  ","\n"]);return bn=function(){return n},n}function Cn(){var n=Object(d.a)(["\n  @keyframes scaleIn {\n    from {\n      opacity: 0;\n      transform: scale(0.5);\n    }\n    to {\n      visibility: visible;\n      opacity: 1;\n      transform: scale(1);\n    }\n  }\n\n  @keyframes scaleOut {\n    from {\n      visibility: ",";\n    }\n    to {\n      visibility: hidden;\n      opacity: 0;\n    }\n  }\n\n  animation-name: ",";\n  animation-duration: 500ms;\n  animation-timing-function: cubic-bezier(0.19, 0.67, 0.01, 1.3);\n  animation-fill-mode: forwards;\n"]);return Cn=function(){return n},n}function In(){var n=Object(d.a)(["\n  @keyframes opacityIn {\n    from {\n      background-color: transparent;\n    }\n    to {\n      visibility: visible;\n      background-color: ",";\n    }\n  }\n\n  @keyframes opacityOut {\n    from {\n      background-color: ",";\n      /* at start showing is false so in \n      order to avoit flicker issue visibility is set dynamically */\n      visibility: ",";\n    }\n    to {\n      visibility: hidden;\n      background-color: transparent;\n    }\n  }\n\n  animation-name: ",";\n  animation-duration: 500ms;\n  animation-timing-function: ease-in-out;\n  animation-fill-mode: forwards;\n"]);return In=function(){return n},n}var vn=Object(f.b)(In(),(function(n){return n.theme.userStatusCard.modal.bg}),(function(n){return n.theme.userStatusCard.modal.bg}),(function(n){return n.showing?"visible":"hidden"}),(function(n){return n.showing?"opacityIn":"opacityOut"})),xn=Object(f.b)(Cn(),(function(n){return n.showing?"visible":"hidden"}),(function(n){return n.showing?"scaleIn":"scaleOut"})),yn=f.c.div(bn(),vn),En=f.c.form(pn(),(function(n){return n.theme.userStatusCard.modal.modalBg}),xn),wn=f.c.h2(hn(),(function(n){return n.theme.userStatusCard.modal.textPrimary})),Sn=f.c.div(mn(),(function(n){return n.theme.userStatusCard.modal.bg}),(function(n){return n.theme.userStatusCard.modal.textPrimary})),kn=f.c.div(fn()),jn=f.c.div(dn(),(function(n){return n.theme.userStatusCard.modal.textSecondary}),(function(n){return n.theme.userStatusCard.modal.textPrimary}),(function(n){return n.theme.userStatusCard.modal.bg}),(function(n){return n.theme.userStatusCard.modal.textPrimary}),(function(n){return n.theme.userStatusCard.modal.textPrimary})),On=f.c.div(gn()),Bn=f.c.button(sn(),(function(n){return n.theme.userStatusCard.modal.textPrimary}),(function(n){return n.theme.userStatusCard.modal.textSecondary}),(function(n){return n.theme.userStatusCard.modal.textPrimary}),(function(n){return n.theme.userStatusCard.modal.textSecondary}),(function(n){return n.theme.userStatusCard.modal.textPrimary})),Mn=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={avatarImage:null,avatarImageData:null,scale:120},n.handlePropogation=function(n){n.stopPropagation()},n.handleSubmit=function(e){e.preventDefault();var t=n.props.confirm;n.avatarEditor&&n.avatarEditor.getImageScaledToCanvas().toBlob((function(n){t(n)}))},n.handleChange=function(e){var t=e.target.files,r=t&&t.length?t[0]:null,a=new FileReader;r&&(a.readAsDataURL(r),a.addEventListener("load",(function(){n.setState({avatarImage:r,avatarImageData:a.result})})))},n.setScale=function(e){var t=e.target.value;n.setState({scale:t})},n.setEditorRef=function(e){return n.avatarEditor=e},n}return Object(a.a)(t,[{key:"render",value:function(){var n=this.state,e=n.avatarImage,t=n.avatarImageData,r=n.scale,a=this.props,i=a.showing,o=a.close;return A.a.createElement(yn,{showing:i,onClick:o},A.a.createElement(En,{onClick:this.handlePropogation,onSubmit:this.handleSubmit,showing:i},A.a.createElement(wn,null,"Upload an image"),t?A.a.createElement(Sn,null,A.a.createElement(un.a,{ref:this.setEditorRef,image:t,scale:r/100,onImageChange:this.onImageCrop}),A.a.createElement("input",{type:"range",min:"100",max:"200",value:this.state.scale,onChange:this.setScale})):null,A.a.createElement(kn,null,A.a.createElement(jn,null,A.a.createElement("span",null,e?e.name:"select a file"),A.a.createElement("label",{htmlFor:"avatarImage"},"choose"),A.a.createElement("input",{type:"file",name:"avatarImage",id:"avatarImage",accept:"image/*",onChange:this.handleChange}))),A.a.createElement(On,null,A.a.createElement(Bn,{className:"close",type:"button",onClick:o},"CANCEL"),A.a.createElement(Bn,{className:"confirm",type:"submit"},"UPLOAD"))))}}]),t}(A.a.Component),Dn=function(n){var e=Object(f.d)();return A.a.createElement("svg",Object.assign({},n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 18"}),A.a.createElement("path",{fill:e.userStatusCard.icon,d:"M0 3c-1-1 1-3 2-3h20c2 0 3 2 2 3L14 17a3 3 0 01-4 0L0 3z"}))},Rn=Object(u.b)({currentUser:B,status:D,currentTheme:N}),Un=Object(l.b)(Rn,(function(n){return{setUserStatus:function(e){return n(function(n){return{type:R.SET_USER_STATUS,payload:n}}(e))},setCurrentUser:function(e){return n(U(e))},setTheme:function(e){return n(function(n){return{type:T.SET_THEME,payload:n}}(e))}}}))((function(n){var e=n.currentUser,t=n.status,r=n.setUserStatus,a=(n.setCurrentUser,n.currentTheme),i=n.setTheme,o=Object(f.d)(),l=Object(c.useState)(!1),u=Object(C.a)(l,2),s=u[0],g=u[1],d=Object(c.useState)(!1),m=Object(C.a)(d,2),h=m[0],p=m[1],b=Object(c.useState)(!1),x=Object(C.a)(b,2),y=x[0],w=x[1],j=function(n){p(!1),S.ref("presence").child(e.uid).set(n,(function(e){r(n),e&&console.error(e)}))},O=function(n){k.ref().child("avatars/users/".concat(e.uid)).put(n,{contentType:"image/jpeg"}).then((function(n){n.ref.getDownloadURL().then((function(n){window.location.reload()}))}))},B=e.displayName,M=e.photoURL;return A.a.createElement(K,{opened:s},A.a.createElement(Mn,{showing:y,close:function(){w(!1)},confirm:function(n){O(n),w(!1)}}),A.a.createElement(q,null,A.a.createElement(_,null,A.a.createElement("img",{src:M,alt:"user avatar"})),A.a.createElement($,null,A.a.createElement(nn,null,B),A.a.createElement(en,null,A.a.createElement(tn,{status:t})," ",A.a.createElement("span",null,t))),A.a.createElement(rn,{opened:s},A.a.createElement(Dn,{onClick:function(){return g(!s)}}))),A.a.createElement(on,{opened:s},A.a.createElement(an,null),h?null:A.a.createElement("li",{onClick:function(){return p(!0)}},A.a.createElement(I.a,{color:o.userStatusCard.icon}),A.a.createElement("span",null,"set status")),h?A.a.createElement("li",{className:"status-box"},A.a.createElement(cn,null,A.a.createElement(An,{name:"online",onClick:function(){return j("online")}},A.a.createElement(ln,{name:"online"})),A.a.createElement(An,{name:"away",onClick:function(){return j("away")}},A.a.createElement(ln,{name:"away"})),A.a.createElement(An,{name:"offline",onClick:function(){return j("offline")}},A.a.createElement(ln,{name:"offline"})))):null,A.a.createElement("li",{onClick:function(){return w(!0)}},A.a.createElement(I.j,{color:o.userStatusCard.icon}),A.a.createElement("span",null,"change avatar")),A.a.createElement("li",{onClick:function(){"light"===a.name?i("dark"):i("light")}},"light"===a.name?A.a.createElement(A.a.Fragment,null,A.a.createElement(I.c,{color:o.userStatusCard.icon}),A.a.createElement("span",null,"toggle theme")):A.a.createElement(A.a.Fragment,null,A.a.createElement(I.h,{color:o.userStatusCard.icon}),A.a.createElement("span",null,"toggle theme"))),A.a.createElement("li",{onClick:function(){E.signOut().then((function(n){console.log("signed out ")}))}},A.a.createElement(v.c,{color:o.userStatusCard.icon}),A.a.createElement("span",null,"log out"))))})),Tn={SET_CHANNELS:"SET_CHANNELS",SET_CURRENT_CHANNEL:"SET_CURRENT_CHANNEL",UPDATE_CHANNEL_MEMBERS:"UPDATE_CHANNEL_MEMBERS",SET_MESSAGE_SEARCH_FILTERS:"SET_MESSAGE_SEARCH_FILTERS",SET_PRIVATE_CHANNEL:"SET_PRIVATE_CHANNEL",SET_OTHER_USERS_STATUS:"SET_OTHER_USERS_STATUS",SET_STARRED_CHANNELS:"SET_STARRED_CHANNELS"},Nn=function(n){return{type:Tn.SET_CHANNELS,payload:n}},Pn=function(n){return{type:Tn.SET_CURRENT_CHANNEL,payload:n}},Qn=function(n){return{type:Tn.SET_PRIVATE_CHANNEL,payload:n}},Jn=function(n){return n.chat},Hn=Object(u.a)([Jn],(function(n){return n.channels})),Gn=Object(u.a)([Jn],(function(n){return n.currentChannel})),Vn=Object(u.a)([Jn],(function(n){return n.channelMembers})),Ln=Object(u.a)([Jn],(function(n){return n.messageSearchFilters})),zn=Object(u.a)([Jn],(function(n){return n.isPrivateChannel})),Wn=Object(u.a)([Jn],(function(n){return n.otherUsersStatus}));Object(u.a)([Jn],(function(n){return n.starredChannels}));function Fn(){var n=Object(d.a)(["\n  width: 100%;\n  text-align: center;\n  padding: 10px;\n  font-family: 'archiaregular';\n  font-size: 15px;\n  color: ",";\n  opacity: 0.9;\n"]);return Fn=function(){return n},n}function Xn(){var n=Object(d.a)(["\n  font-family: 'archiasemibold';\n  font-size: 16px;\n  color: ",";\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 8px;\n  background-color: ",";\n  opacity: ",";\n\n  margin-bottom: 4px;\n\n  :last-child {\n    margin-bottom: 0px;\n  }\n\n  &:hover {\n    background-color: ",";\n  }\n"]);return Xn=function(){return n},n}function Zn(){var n=Object(d.a)(["\n  margin-top: 10px;\n"]);return Zn=function(){return n},n}function Yn(){var n=Object(d.a)(["\n  font-family: 'archiasemibold';\n  font-size: 17px;\n  color: ",";\n  display: grid;\n  grid-template-columns: auto 20px;\n\n  svg {\n    justify-self: center;\n    align-self: center;\n  }\n"]);return Yn=function(){return n},n}function Kn(){var n=Object(d.a)(["\n  width: 100%;\n  height: auto;\n  border-radius: 14px;\n  padding: 18px;\n  background-color: ",";\n"]);return Kn=function(){return n},n}var qn=f.c.div(Kn(),(function(n){return n.theme.starred.bg})),_n=f.c.div(Yn(),(function(n){return n.theme.starred.text})),$n=f.c.ul(Zn()),ne=f.c.li(Xn(),(function(n){return n.theme.starred.text}),(function(n){var e=n.selected,t=n.theme;return e?t.starred.hover:"transparent"}),(function(n){return n.selected?1:.8}),(function(n){return n.theme.starred.hover})),ee=f.c.p(Fn(),(function(n){return n.theme.starred.text})),te=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).setActiveChannel=function(e){n.setState({activeChannel:e.id})},n.changeChannel=function(e){var t=n.props,r=t.setCurrentChannel,a=t.setPrivateChannel;r(e),a(!1),n.setActiveChannel(e)},n.getStarredChannels=function(){var e=n.props.channels;return n.props.channels?e.filter((function(n){return n.starred})):[]},n}return Object(a.a)(t,[{key:"render",value:function(){var n=this.props,e=n.setCurrentChannel,t=n.currentChannel,r=n.isPrivateChannel;return A.a.createElement(qn,null,A.a.createElement(_n,null,A.a.createElement("span",null,"STARRED"),A.a.createElement(I.g,{onClick:this.openModal,style:{alignSelf:"flex-end"},size:20})),this.getStarredChannels().length?null:A.a.createElement(ee,{key:"placeholder-text"},"Your favourite channels will show up here."),A.a.createElement($n,null,this.getStarredChannels().map((function(n){var a=n.id,i=n.name;return A.a.createElement(ne,{key:a,onClick:function(){return e(n)},selected:!r&&n.id===t.id},"# ",i)}))))}}]),t}(A.a.Component),re=Object(u.b)({channels:Hn,currentChannel:Gn,isPrivateChannel:zn}),ae=Object(l.b)(re,(function(n){return{setCurrentChannel:function(e){return n(Pn(e))},setPrivateChannel:function(e){return n(Qn(e))}}}))(te),ie=t(46),oe=t(25),ce=t(13);function Ae(){var n=Object(d.a)(["\n  margin-left: 10px;\n  border: 2px solid transparent;\n  font-family: 'archiasemibold';\n  cursor: pointer;\n  outline: none;\n  border-radius: 8px;\n  padding: 6px;\n  min-width: 70px;\n  font-size: 15px;\n\n  &.close {\n    color: ",";\n    background-color: ",";\n    border: 2px solid ",";\n  }\n\n  &.confirm {\n    color: ",";\n    background-color: ",";\n  }\n"]);return Ae=function(){return n},n}function le(){var n=Object(d.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 10px;\n"]);return le=function(){return n},n}function ue(){var n=Object(d.a)(["\n  width: 100%;\n  display: grid;\n  grid-template-columns: 80px auto;\n\n  span {\n    font-family: 'archiasemibold';\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 6px 12px;\n    font-size: 16px;\n    height: 100%;\n    width: 100%;\n    border-radius: 8px 0px 0px 8px;\n    color: ",";\n    background-color: ",";\n  }\n\n  input {\n    padding: 8px;\n    border: 0px;\n    background-color: ",";\n    color: ",";\n    border-radius: 8px;\n    font-family: 'archiaregular';\n    font-size: 16px;\n\n    &:focus {\n      outline: none;\n    }\n\n    &::placeholder {\n      color: ",";\n    }\n  }\n"]);return ue=function(){return n},n}function se(){var n=Object(d.a)(["\n  display: grid;\n  grid-gap: 10px;\n"]);return se=function(){return n},n}function ge(){var n=Object(d.a)(["\n  color: ",";\n  font-size: 20px;\n  font-family: 'archiasemibold';\n"]);return ge=function(){return n},n}function de(){var n=Object(d.a)(["\n  padding: 20px;\n  border-radius: 12px;\n  visibility: hidden;\n  background: ",";\n  display: grid;\n  grid-gap: 16px;\n\n  ","\n"]);return de=function(){return n},n}function fe(){var n=Object(d.a)(["\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  left: 0;\n  position: fixed;\n  z-index: 10;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  visibility: hidden;\n\n  ","\n"]);return fe=function(){return n},n}function me(){var n=Object(d.a)(["\n  @keyframes scaleIn {\n    from {\n      opacity: 0;\n      transform: scale(0.5);\n    }\n    to {\n      visibility: visible;\n      opacity: 1;\n      transform: scale(1);\n    }\n  }\n\n  @keyframes scaleOut {\n    from {\n      visibility: ",";\n    }\n    to {\n      visibility: hidden;\n      opacity: 0;\n    }\n  }\n\n  animation-name: ",";\n  animation-duration: 500ms;\n  animation-timing-function: cubic-bezier(0.19, 0.67, 0.01, 1.3);\n  animation-fill-mode: forwards;\n"]);return me=function(){return n},n}function he(){var n=Object(d.a)(["\n  @keyframes opacityIn {\n    from {\n      background-color: transparent;\n    }\n    to {\n      visibility: visible;\n      background-color: ",";\n    }\n  }\n\n  @keyframes opacityOut {\n    from {\n      background-color: ",";\n      /* at start showing is false so in \n      order to avoit flicker issue visibility is set dynamically */\n      visibility: ",";\n    }\n    to {\n      visibility: hidden;\n      background-color: transparent;\n    }\n  }\n\n  animation-name: ",";\n  animation-duration: 500ms;\n  animation-timing-function: ease-in-out;\n  animation-fill-mode: forwards;\n"]);return he=function(){return n},n}var pe=Object(f.b)(he(),(function(n){return n.theme.channels.modal.bg}),(function(n){return n.theme.channels.modal.bg}),(function(n){return n.showing?"visible":"hidden"}),(function(n){return n.showing?"opacityIn":"opacityOut"})),be=Object(f.b)(me(),(function(n){return n.showing?"visible":"hidden"}),(function(n){return n.showing?"scaleIn":"scaleOut"})),Ce=f.c.div(fe(),pe),Ie=f.c.form(de(),(function(n){return n.theme.channels.modal.modalBg}),be),ve=f.c.h2(ge(),(function(n){return n.theme.channels.modal.textPrimary})),xe=f.c.div(se()),ye=f.c.div(ue(),(function(n){return n.theme.channels.modal.textSecondary}),(function(n){return n.theme.channels.modal.textPrimary}),(function(n){return n.theme.channels.modal.bg}),(function(n){return n.theme.channels.modal.textPrimary}),(function(n){return n.theme.channels.modal.textPrimary})),Ee=f.c.div(le()),we=f.c.button(Ae(),(function(n){return n.theme.channels.modal.textPrimary}),(function(n){return n.theme.channels.modal.textSecondary}),(function(n){return n.theme.channels.modal.textPrimary}),(function(n){return n.theme.channels.modal.textSecondary}),(function(n){return n.theme.channels.modal.textPrimary})),Se=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={name:"",about:""},n.handlePropogation=function(n){n.stopPropagation()},n.formattedValue=function(n){return(n=n.replace(" ","-").replace("--","-").toLowerCase()).startsWith("-")&&(n=""),n},n.handleChange=function(e){var t=e.target,r=t.name,a=t.value;"name"===r&&(a=n.formattedValue(a)),n.setState(Object(oe.a)({},r,a))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,r=t.name,a=t.about;r=r.endsWith("-")?r.substring(0,r.length-1):r,(0,n.props.confirm)({name:r,about:a})},n}return Object(a.a)(t,[{key:"render",value:function(){var n=this.props,e=n.showing,t=n.close,r=this.state,a=r.name,i=r.about;return A.a.createElement(Ce,{showing:e,onClick:t},A.a.createElement(Ie,{onClick:this.handlePropogation,onSubmit:this.handleSubmit,showing:e},A.a.createElement(ve,null,"Add a channel"),A.a.createElement(xe,null,A.a.createElement(ye,null,A.a.createElement("span",null,"name"),A.a.createElement("input",{type:"text",name:"name",value:a,placeholder:"channel-name",onChange:this.handleChange})),A.a.createElement(ye,null,A.a.createElement("span",null,"about"),A.a.createElement("input",{type:"text",name:"about",value:i,placeholder:"description",onChange:this.handleChange}))),A.a.createElement(Ee,null,A.a.createElement(we,{className:"close",type:"button",onClick:t},"CANCEL"),A.a.createElement(we,{className:"confirm",type:"submit"},"ADD"))))}}]),t}(A.a.Component),ke=t(35);function je(){var n=Object(d.a)(["\n  font-family: 'archiasemibold';\n  color: ",";\n  font-size: ",";\n  padding: 20px;\n"]);return je=function(){return n},n}function Oe(){var n=Object(d.a)(["\n  @keyframes spin {\n    from {\n      transform: rotate(-45deg);\n    }\n    to {\n      transform: rotate(315deg);\n    }\n  }\n\n  height: ",";\n  width: ",";\n  border: 8px solid ",";\n  border-right: 8px Solid ",";\n  border-radius: 9999px;\n  animation: linear spin 1.2s infinite;\n"]);return Oe=function(){return n},n}function Be(){var n=Object(d.a)(["\n  width: 100%;\n  height: 100%;\n  background: ",";\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return Be=function(){return n},n}var Me=f.c.div(Be(),(function(n){return n.theme.spinner.bg})),De=f.c.div(Oe(),(function(n){return n.size}),(function(n){return n.size}),(function(n){var e=n.theme;return n.color||e.spinner.loaderFg}),(function(n){return n.theme.spinner.loaderBg})),Re=f.c.p(je(),(function(n){return n.theme.spinner.text}),(function(n){return n.fontSize})),Ue=function(n){var e=n.loadingText,t=n.size,r=void 0===t?"50px":t,a=n.fontSize,i=void 0===a?"16px":a,o=Object(ke.a)(n,["loadingText","size","fontSize"]);return A.a.createElement(Me,o,A.a.createElement(De,{size:r}),e?A.a.createElement(Re,{fontSize:i},e):"")};function Te(){var n=Object(d.a)(["\n  font-family: 'archiasemibold';\n  background-color: ",";\n  color: ",";\n  padding: 2px 4px;\n  font-size: 13px;\n  border-radius: 6px;\n  justify-self: flex-end;\n"]);return Te=function(){return n},n}function Ne(){var n=Object(d.a)(["\n  font-family: 'archiasemibold';\n  font-size: 16px;\n  color: ",";\n  flex: 1 0;\n"]);return Ne=function(){return n},n}function Pe(){var n=Object(d.a)(["\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n\n  background-color: ",";\n  opacity: ",";\n\n  margin-bottom: 4px;\n\n  :last-child {\n    margin-bottom: 0px;\n  }\n\n  &:hover {\n    background-color: ",";\n  }\n"]);return Pe=function(){return n},n}function Qe(){var n=Object(d.a)(["\n  margin-top: 10px;\n"]);return Qe=function(){return n},n}function Je(){var n=Object(d.a)(["\n  font-family: 'archiasemibold';\n  font-size: 17px;\n  color: ",";\n  display: grid;\n  grid-template-columns: auto 20px;\n\n  svg {\n    justify-self: center;\n    align-self: center;\n    cursor: pointer;\n  }\n"]);return Je=function(){return n},n}function He(){var n=Object(d.a)(["\n  width: 100%;\n  height: auto;\n  border-radius: 14px;\n  padding: 18px;\n  background-color: ",";\n"]);return He=function(){return n},n}var Ge=f.c.div(He(),(function(n){return n.theme.channels.bg})),Ve=f.c.div(Je(),(function(n){return n.theme.channels.text})),Le=f.c.ul(Qe()),ze=f.c.li(Pe(),(function(n){var e=n.selected,t=n.theme;return e?t.channels.hover:"transparent"}),(function(n){return n.selected?1:.8}),(function(n){return n.theme.channels.hover})),We=f.c.p(Ne(),(function(n){return n.theme.channels.text})),Fe=f.c.span(Te(),(function(n){return n.theme.channels.notificationsBg}),(function(n){return n.theme.channels.notificationsFg})),Xe=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={channel:null,channelName:"",channelDetails:"",channelsRef:w.collection("channels"),typingRef:S.ref("typing"),unsubscribeChannelListener:null,notificationListeners:{},notifications:[],modal:!1,firstLoad:!0,activeChannel:null},n.addListeners=function(){var e=n.state.channelsRef,t=n.props.setChannels,r=e.orderBy("createdAt","asc").onSnapshot((function(e){var r=e.docs.map((function(n){return n.data()}));t(r),r.forEach((function(e){return n.addNotificationListener(e.id)}))}));n.setState({unsubscribeChannelListener:r})},n.addNotificationListener=function(e){var t=n.state.channelsRef.doc(e).collection("messages").onSnapshot((function(t){n.state.channel&&n.handleNotifications(e,n.state.channel.id,n.state.notifications,t)}));n.setState((function(n){var r=n.notificationListeners;return{notificationListeners:Object(ce.a)({},r,Object(oe.a)({},e,t))}}))},n.handleNotifications=function(e,t,r,a){var i=0,o=r.findIndex((function(n){return n.id===e}));-1!==o?e!==t&&(i=r[o].lastKnownTotal,a.docs.length-i>0&&(r[o].count=a.docs.length-i,r[o].total=a.docs.length)):r.push({id:e,total:a.docs.length,lastKnownTotal:a.docs.length,count:0}),n.setState({notifications:r})},n.removeListeners=function(){(0,n.state.unsubscribeChannelListener)();var e=n.state.notificationListeners;Object.keys(e).forEach((function(n){e[n]()}))},n.setFirstChannel=function(){var e=n.state.firstLoad,t=n.props,r=t.setCurrentChannel,a=t.channels;e&&a.length&&(r(a[0]),n.setActiveChannel(a[0]),n.setState({firstLoad:!1,channel:a[0]}))},n.addChannel=function(e){var t=e.name,r=e.about,a=n.state.channelsRef,i=n.props.currentUser,o=a.doc(),c={id:o.id,name:t,details:r,createdBy:{name:i.displayName,avatar:i.photoURL,uid:i.uid},createdAt:j.firestore.FieldValue.serverTimestamp()};a.doc(o.id).set(c).then((function(){n.setState({channelName:"",channelDetails:"",modal:!1}),console.log("channel created")})).catch((function(n){console.error(n)}))},n.handleClose=function(){n.setState({modal:!1})},n.handleConfirm=function(e){var t=e.name,r=e.about;n.setState({channelName:t,channelDetails:r}),t&&r&&n.addChannel({name:t,about:r})},n.openModal=function(){n.setState({modal:!0})},n.setActiveChannel=function(e){n.setState({activeChannel:e.id})},n.changeChannel=function(e){var t=n.state.typingRef,r=n.props,a=r.setCurrentChannel,i=r.setPrivateChannel,o=r.currentUser,c=r.currentChannel;t.child(c.id).child(o.uid).remove(),a(e),i(!1),n.setActiveChannel(e),n.setState({channel:e},(function(){return n.clearNotifications()}))},n.clearNotifications=function(){var e=n.state.notifications.findIndex((function(e){return e.id===n.state.channel.id}));if(-1!==e){var t=Object(ie.a)(n.state.notifications);t[e].lastKnownTotal=n.state.notifications[e].total,t[e].count=0,n.setState({notifications:t})}},n.getNotificationCount=function(e){var t=0;return n.state.notifications.forEach((function(n){n.id===e.id&&(t=n.count)})),t},n}return Object(a.a)(t,[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentDidUpdate",value:function(){this.props.channels&&this.setFirstChannel()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){var n=this,e=this.state,t=e.modal,r=e.firstLoad,a=this.props,i=a.isPrivateChannel,o=a.currentChannel,c=a.channels;return A.a.createElement(Ge,null,A.a.createElement(Se,{close:this.handleClose,confirm:this.handleConfirm,showing:t}),A.a.createElement(Ve,null,A.a.createElement("span",null,"CHANNELS"),A.a.createElement(I.d,{onClick:this.openModal,style:{alignSelf:"flex-end"},size:20})),r?A.a.createElement(Ue,{style:{backgroundColor:"transparent",marginTop:20},size:"40px"}):A.a.createElement(Le,null,c.map((function(e){var t=e.id,r=e.name;return A.a.createElement(ze,{key:t,selected:e.id===o.id&&!i,onClick:function(){return n.changeChannel(e)}},A.a.createElement(We,null,"# ",r)," ",n.getNotificationCount(e)?A.a.createElement(Fe,null,n.getNotificationCount(e)):null)}))))}}]),t}(A.a.Component),Ze=Object(u.b)({currentUser:B,channels:Hn,currentChannel:Gn,isPrivateChannel:zn}),Ye=Object(l.b)(Ze,(function(n){return{setChannels:function(e){return n(Nn(e))},setCurrentChannel:function(e){return n(Pn(e))},setPrivateChannel:function(e){return n(Qn(e))}}}))(Xe);function Ke(){var n=Object(d.a)(["\n  width: 10px;\n  height: 10px;\n  border-radius: 10px;\n\n  background-color: ",";\n"]);return Ke=function(){return n},n}function qe(){var n=Object(d.a)(["\n  display: flex;\n  align-items: center;\n\n  p {\n    font-family: 'archiasemibold';\n    font-size: 16px;\n    color: ",";\n    margin-left: 6px;\n  }\n"]);return qe=function(){return n},n}function _e(){var n=Object(d.a)(["\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 8px;\n  background-color: ",";\n  opacity: ",";\n\n  margin-bottom: 4px;\n\n  :last-child {\n    margin-bottom: 0px;\n  }\n\n  &:hover {\n    background-color: ",";\n  }\n"]);return _e=function(){return n},n}function $e(){var n=Object(d.a)(["\n  margin-top: 10px;\n"]);return $e=function(){return n},n}function nt(){var n=Object(d.a)(["\n  font-family: 'archiasemibold';\n  font-size: 17px;\n  color: ",";\n  display: grid;\n  grid-template-columns: auto 20px;\n\n  svg {\n    justify-self: center;\n    align-self: center;\n    cursor: pointer;\n  }\n"]);return nt=function(){return n},n}function et(){var n=Object(d.a)(["\n  width: 100%;\n  height: auto;\n  border-radius: 14px;\n  padding: 18px;\n  background-color: ",";\n"]);return et=function(){return n},n}var tt=f.c.div(et(),(function(n){return n.theme.directMessages.bg})),rt=f.c.div(nt(),(function(n){return n.theme.directMessages.text})),at=f.c.ul($e()),it=f.c.li(_e(),(function(n){var e=n.selected,t=n.theme;return e?t.directMessages.hover:"transparent"}),(function(n){return n.selected?1:.8}),(function(n){return n.theme.directMessages.hover})),ot=f.c.div(qe(),(function(n){return n.theme.directMessages.text})),ct=f.c.div(Ke(),(function(n){var e=n.theme,t=n.status,r=e.directMessages;return"online"===t?r.status.online:"away"===t?r.status.away:r.status.offline})),At=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={users:[],usersListener:null,connectedRef:S.ref(".info/connected"),presenceRef:S.ref("presence"),activeChannel:null},n.addListeners=function(e){var t=n.state,r=t.connectedRef,a=t.presenceRef,i=n.props.userStatus,o=w.collection("users").onSnapshot((function(t){var r=t.docs.filter((function(n){return n.id!==e})).map((function(n){return Object(ce.a)({},n.data(),{uid:n.id,status:"offline"})}));n.setState({users:r},n.updateUsersStatus)}));n.setState({usersListener:o}),r.on("value",(function(n){if(n.val()){var t=a.child(e);t.set(i),t.onDisconnect().set("offline")}}))},n.removeListeners=function(){var e=n.state,t=e.usersListener,r=e.connectedRef,a=e.presenceRef,i=n.props.currentUser;t(),r.off(),a.child(i.uid).set("offline"),a.off()},n.updateUsersStatus=function(){var e=n.state.presenceRef,t=n.props.setOtherUsersStatus;e.on("value",(function(e){var r=e.val();t(r),Object.keys(r).forEach((function(e){n.addStatusToUser(e,r[e])}))}))},n.addStatusToUser=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"online",r=n.state.users,a=r.reduce((function(n,r){return r.uid===e&&(r.status=t),n.concat(r)}),[]);n.setState({users:a})},n.changeChannel=function(e){var t=n.props,r=t.setCurrentChannel,a=t.setPrivateChannel,i=n.getChannelId(e.uid);r({id:i,name:e.name,uid:e.uid,type:"direct"}),a(!0),n.setActiveChannel(i)},n.getChannelId=function(e){var t=n.props.currentUser.uid;return e<t?"".concat(e,"/").concat(t):"".concat(t,"/").concat(e)},n.setActiveChannel=function(e){n.setState({activeChannel:e})},n}return Object(a.a)(t,[{key:"componentDidMount",value:function(){var n=this.props.currentUser;n&&this.addListeners(n.uid)}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){var n=this,e=this.state,t=e.users,r=e.activeChannel,a=this.props.isPrivateChannel;return A.a.createElement(tt,null,A.a.createElement(rt,null,A.a.createElement("span",null,"DIRECT MESSAGES"),A.a.createElement(v.d,{onClick:this.openModal,style:{alignSelf:"flex-end"},size:20})),t.length?A.a.createElement(at,null,t.map((function(e){var t=e.uid,i=e.name,o=e.status,c=void 0===o?"offline":o;return A.a.createElement(it,{key:t,selected:r===n.getChannelId(t)&&a},A.a.createElement(ot,{onClick:function(){return n.changeChannel(e)}},A.a.createElement(ct,{status:c})," ",A.a.createElement("p",null,i)))}))):A.a.createElement(Ue,{style:{backgroundColor:"transparent",marginTop:20},size:"40px"}))}}]),t}(A.a.Component),lt=Object(u.b)({currentUser:B,userStatus:D,isPrivateChannel:zn}),ut=Object(l.b)(lt,(function(n){return{setCurrentChannel:function(e){return n(Pn(e))},setPrivateChannel:function(e){return n(Qn(e))},setOtherUsersStatus:function(e){return n({type:Tn.SET_OTHER_USERS_STATUS,payload:e})}}}))(At),st=function(){return A.a.createElement(b,null,A.a.createElement(Un,null),A.a.createElement(ae,null),A.a.createElement(Ye,null),A.a.createElement(ut,null))};function gt(){var n=Object(d.a)(["\n  width: 100%;\n  min-height: 100%;\n  padding: 14px;\n  display: grid;\n  grid-gap: 14px;\n  grid-template-rows: 120px auto 60px;\n"]);return gt=function(){return n},n}var dt=f.c.div(gt());function ft(){var n=Object(d.a)(["\n  margin-left: 5px;\n  text-transform: capitalize;\n  opacity: 0.8;\n"]);return ft=function(){return n},n}function mt(){var n=Object(d.a)(["\n  width: 10px;\n  height: 10px;\n  border-radius: 10px;\n\n  background-color: ",";\n"]);return mt=function(){return n},n}function ht(){var n=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 6px;\n  margin-left: 6px;\n"]);return ht=function(){return n},n}function pt(){var n=Object(d.a)(["\n  color: ",";\n  background-color: ",";\n  border-radius: 14px;\n  border: none;\n  font-size: 15px;\n  font-family: 'archiaregular';\n  width: 100%;\n  height: 100%;\n  padding: 16px 34px 16px 14px;\n\n  &::placeholder {\n    color: ",";\n  }\n\n  &:focus {\n    outline: none;\n  }\n"]);return pt=function(){return n},n}function bt(){var n=Object(d.a)(["\n  position: relative;\n  width: 100%;\n  height: 46px;\n\n  svg {\n    color: ",";\n    position: absolute;\n    right: 12px;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n    cursor: pointer;\n  }\n"]);return bt=function(){return n},n}function Ct(){var n=Object(d.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Ct=function(){return n},n}function It(){var n=Object(d.a)(["\n  font-size: 14px;\n"]);return It=function(){return n},n}function vt(){var n=Object(d.a)(["\n  margin-top: 12px;\n  margin-bottom: 2px;\n  opacity: 0.8;\n"]);return vt=function(){return n},n}function xt(){var n=Object(d.a)(["\n  font-size: 30px;\n\n  svg {\n    color: ",";\n    cursor: pointer;\n  }\n"]);return xt=function(){return n},n}function yt(){var n=Object(d.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return yt=function(){return n},n}function Et(){var n=Object(d.a)(["\n  width: 100%;\n  height: 100%;\n  border-radius: 14px;\n  padding: 14px 20px;\n  display: grid;\n  align-items: center;\n  grid-template-columns: minmax(240px, 2fr) minmax(200px, 1fr);\n  font-family: 'archiasemibold';\n  background-color: ",";\n  color: ",";\n"]);return Et=function(){return n},n}var wt=f.c.div(Et(),(function(n){return n.theme.channelHeader.bg}),(function(n){return n.theme.channelHeader.text})),St=f.c.div(yt()),kt=f.c.h2(xt(),(function(n){return n.theme.channelHeader.icon})),jt=f.c.p(vt()),Ot=f.c.span(It()),Bt=f.c.div(Ct()),Mt=f.c.div(bt(),(function(n){return n.theme.channelHeader.search.placeholder})),Dt=f.c.input(pt(),(function(n){return n.theme.channelHeader.search.text}),(function(n){return n.theme.channelHeader.search.bg}),(function(n){return n.theme.channelHeader.search.placeholder})),Rt=f.c.div(ht()),Ut=f.c.div(mt(),(function(n){var e=n.theme,t=n.status,r=e.directMessages;return"online"===t?r.status.online:"away"===t?r.status.away:r.status.offline})),Tt=f.c.p(ft()),Nt=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={filters:{text:""},status:"offline",usersRef:w.collection("users")},n.handleChange=function(e){var t=e.target,r=t.name,a=t.value;n.setState({filters:Object(oe.a)({},r,a)},(function(){n.setFilters(n.state.filters)}))},n.unsubscribeStarredListener=null,n.setFilters=function(e){(0,n.props.setMessageSearchFilters)(e)},n.clearText=function(){n.setState({filters:{text:""}},(function(){n.setFilters(n.state.filters)}))},n.getStatusForDM=function(){var e=n.props,t=e.otherUsersStatus,r=e.currentChannel;return r&&r.uid?t[r.uid]:"offline"},n.handleStar=function(e){n.starChannel(e)},n.starChannel=function(){var e=n.state.usersRef,t=n.props,r=t.currentUser,a=t.currentChannel,i=[];e.doc(r.uid).get().then((function(n){var t=n.data(),o=(i=t.starred?Object(ie.a)(t.starred):[]).indexOf(a.id);-1===o?i.push(a.id):i.splice(o,1),e.doc(r.uid).update({starred:i}).then((function(){return console.log("starred channels updated")})).catch((function(n){return console.error(n)}))}))},n}return Object(a.a)(t,[{key:"componentDidMount",value:function(){var n=this.state.usersRef,e=this.props,t=e.currentUser,r=e.setStarredChannels;this.unsubscribeStarredListener=n.doc(t.uid).onSnapshot((function(n){var e=n.data();e&&r(e.starred)}))}},{key:"componentWillUnmount",value:function(){this.unsubscribeStarredListener()}},{key:"render",value:function(){var n=this,e=this.props,t=e.currentChannel,r=e.members,a=e.privateChannel,i=this.state.filters,o=this.getStatusForDM();return A.a.createElement(wt,null,t?A.a.createElement(A.a.Fragment,null,A.a.createElement(St,null,A.a.createElement(kt,null,A.a.createElement("span",null,a?"@":"#"," ",t.name)," ",a?null:t.starred?A.a.createElement(I.g,{size:26,onClick:function(){return n.handleStar()}}):A.a.createElement(I.e,{size:26,onClick:function(){return n.handleStar()}})),a?A.a.createElement(Rt,null,A.a.createElement(Ut,{status:o})," ",A.a.createElement(Tt,null,o)):A.a.createElement(jt,null,t.details),a?null:A.a.createElement(Ot,null,r&&1===r.count?"".concat(r.count," member"):"".concat(r.count," members"))),A.a.createElement(Bt,null,A.a.createElement(Mt,null,A.a.createElement(Dt,{type:"text",name:"text",onChange:this.handleChange,value:i.text,placeholder:"search messages"}),i.text.length?A.a.createElement(I.i,{onClick:this.clearText}):A.a.createElement(I.f,null)))):A.a.createElement(Ue,{style:{backgroundColor:"transparent",gridColumn:"1 / span 2"}}))}}]),t}(A.a.Component),Pt=Object(u.b)({members:Vn,privateChannel:zn,otherUsersStatus:Wn}),Qt=Object(l.b)(Pt,(function(n){return{setMessageSearchFilters:function(e){return n(function(n){return{type:Tn.SET_MESSAGE_SEARCH_FILTERS,payload:n}}(e))},setStarredChannels:function(e){return n(function(n){return{type:Tn.SET_STARRED_CHANNELS,payload:n}}(e))}}}))(Nt);function Jt(){var n=Object(d.a)(["\n  align-self: flex-end;\n  width: 100%;\n"]);return Jt=function(){return n},n}function Ht(){var n=Object(d.a)(["\n  width: 100%;\n  overflow-y: auto;\n  flex: 1 0;\n\n  > :nth-child(n) {\n    margin-bottom: 12px;\n  }\n\n  > :last-child {\n    margin-bottom: 0px;\n  }\n\n  ","\n"]);return Ht=function(){return n},n}function Gt(){var n=Object(d.a)(["\n  width: 100%;\n  min-height: 100%;\n  border-radius: 14px;\n  padding: 20px;\n  background-color: ",";\n  display: flex;\n  flex-direction: column;\n"]);return Gt=function(){return n},n}function Vt(){var n=Object(d.a)(["\n  ::-webkit-scrollbar {\n    width: 10px;\n    height: 10px;\n  }\n  ::-webkit-scrollbar-button {\n    width: 0px;\n    height: 0px;\n  }\n  ::-webkit-scrollbar-thumb {\n    background: ",";\n    opacity: 0.5;\n    border: 0px;\n    border-radius: 50px;\n  }\n  ::-webkit-scrollbar-thumb:hover,\n  ::-webkit-scrollbar-thumb:active {\n    background: ",";\n  }\n\n  ::-webkit-scrollbar-track {\n    border: 0px;\n    border-radius: 50px;\n  }\n  ::-webkit-scrollbar-track,\n  ::-webkit-scrollbar-track:hover,\n  ::-webkit-scrollbar-track:active {\n    background: ",";\n  }\n\n  ::-webkit-scrollbar-corner {\n    background: transparent;\n  }\n"]);return Vt=function(){return n},n}var Lt=Object(f.b)(Vt(),(function(n){return n.theme.scrollbar.fg}),(function(n){return n.theme.scrollbar.fgHover}),(function(n){return n.theme.scrollbar.bg})),zt=f.c.div(Gt(),(function(n){return n.theme.messages.bg})),Wt=f.c.div(Ht(),Lt),Ft=f.c.div(Jt()),Xt=t(52),Zt=t.n(Xt);function Yt(){var n=Object(d.a)(["\n  font-size: 16px;\n  padding-right: 20px;\n  font-family: 'archiaregular';\n  word-break: break-word;\n\n  img {\n    border-radius: 14px;\n    margin-top: 4px;\n    max-width: 400px;\n  }\n"]);return Yt=function(){return n},n}function Kt(){var n=Object(d.a)(["\n  font-family: 'archiasemibold';\n  display: flex;\n  align-items: center;\n  margin-bottom: 3px;\n\n  h2 {\n    font-size: 16px;\n  }\n\n  span {\n    font-size: 14px;\n    color: ",";\n    margin-left: 6px;\n  }\n"]);return Kt=function(){return n},n}function qt(){var n=Object(d.a)(["\n  color: ",";\n"]);return qt=function(){return n},n}function _t(){var n=Object(d.a)(["\n  width: 100%;\n  height: 100%;\n  img {\n    width: 54px;\n    height: 54px;\n    align-self: top;\n    border-radius: 14px;\n  }\n"]);return _t=function(){return n},n}function $t(){var n=Object(d.a)(["\n  display: grid;\n  grid-template-columns: 54px auto;\n  grid-gap: 8px;\n  align-items: center;\n"]);return $t=function(){return n},n}var nr=f.c.div($t()),er=f.c.div(_t()),tr=f.c.div(qt(),(function(n){return n.theme.message.textPrimary})),rr=f.c.div(Kt(),(function(n){return n.theme.message.textSecondary})),ar=f.c.p(Yt()),ir=function(n){var e=n.message,t=void 0===e?{}:e,r=t.content,a=t.timestamp,i=t.user,o=t.image;return A.a.createElement(nr,null,A.a.createElement(er,null,A.a.createElement("img",{src:i.avatar,alt:"avatar"})),A.a.createElement(tr,null,A.a.createElement(rr,null,A.a.createElement("h2",null,i.name)," ",A.a.createElement("span",null,"".concat(function(n){return n?Zt()(n.toDate()).fromNow(!0):"just now"}(a)," ago"))),A.a.createElement(ar,{image:!!o},r||A.a.createElement("img",{src:o,alt:"message-attachment"}))))};function or(){var n=Object(d.a)(["\n  @keyframes blink {\n    from {\n      opacity: 1;\n    }\n    to {\n      opacity: 0.25;\n    }\n  }\n\n  width: 8px;\n  height: 8px;\n  border-radius: 10px;\n  margin-left: 4px;\n  background: #6c757d;\n  animation: blink 800ms infinite alternate;\n"]);return or=function(){return n},n}function cr(){var n=Object(d.a)(["\n  border-radius: 99px;\n  padding: 8px;\n  background: ",";\n  display: flex;\n  align-items: center;\n  width: fit-content;\n\n  span {\n    color: ",";\n    font-family: 'archiasemibold';\n    font-size: 13px;\n    margin-right: 2px;\n  }\n"]);return cr=function(){return n},n}function Ar(){var n=Object(d.a)(["\n  margin-top: 14px;\n  width: 100%;\n  border-radius: 99px;\n  overflow: hidden;\n  display: flex;\n\n  > :nth-child(n) {\n    margin-right: 10px;\n  }\n\n  > :last-child {\n    margin-right: 0px;\n  }\n"]);return Ar=function(){return n},n}var lr=f.c.div(Ar()),ur=f.c.div(cr(),(function(n){return n.theme.typingUsers.itemBg}),(function(n){return n.theme.typingUsers.text})),sr=f.c.div(or()),gr=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={typingRef:S.ref("typing"),connectedRef:S.ref(".info/connected"),typing:{}},n.getTypingUsers=function(e){var t=n.state.typing,r=n.props.currentUser;if(t&&t[e]){var a=t[e];return Object.keys(a).filter((function(n){return r.uid!==n})).map((function(n){return a[n]}))}return[]},n}return Object(a.a)(t,[{key:"componentDidMount",value:function(){var n=this,e=this.state,t=e.typingRef,r=e.connectedRef,a=this.props.currentUser;t.on("value",(function(e){n.setState({typing:e.val()})})),r.on("value",(function(e){if(!0===e.val()){var r=n.props.currentChannel;t.child(r.id).child(a.uid).onDisconnect().remove((function(n){n&&console.error(n)}))}}))}},{key:"componentWillUnmount",value:function(){var n=this.state,e=n.typingRef,t=n.connectedRef;e.off(),t.off()}},{key:"render",value:function(){var n=this.props.currentChannel;return A.a.createElement(A.a.Fragment,null,this.getTypingUsers(n.id).length?A.a.createElement(lr,null,this.getTypingUsers(n.id).map((function(n,e){return A.a.createElement(ur,{key:e},A.a.createElement("span",null,n," "),A.a.createElement(sr,{style:{animationDelay:"100ms"}}),A.a.createElement(sr,{style:{animationDelay:"300ms"}}),A.a.createElement(sr,{style:{animationDelay:"500ms"}}))}))):null)}}]),t}(A.a.Component),dr=Object(u.b)({currentUser:B,currentChannel:Gn}),fr=Object(l.b)(dr)(gr),mr=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={messageListeners:{},messages:{},loading:!0},n.scrollToBottom=function(){n.messagesEnd.scrollIntoView()},n.filterMessages=function(e){var t=n.props.filters,r=new RegExp(t.text,"gi");return e?e.reduce((function(n,e){return(e.content&&(e.content.match(r)||e.user.name.match(r))||e.image&&e.user.name.match(r))&&n.push(e),n}),[]):[]},n.addListeners=function(e,t){if(n.state.messageListeners[e]){var r=n.state.messages,a=n.props,i=a.updateMembers,o=a.currentChannel;o&&r[o.id]&&i({count:n.countUniqueMembers(r[o.id]),members:n.getDetailsForMembers(r[o.id])})}else{var c=("direct"===t?w.collection("directMessages/".concat(e)):w.collection("channels").doc(e).collection("messages")).orderBy("timestamp","asc").onSnapshot((function(t){var r=t.docs.map((function(n){return n.data()}));n.setState((function(n){var t=n.messages;return{messages:Object(ce.a)({},t,Object(oe.a)({},e,r)),loading:!1}}))}));n.setState((function(n){var t=n.messageListeners;return{messageListeners:Object(ce.a)({},t,Object(oe.a)({},e,c)),loading:!0}}))}},n.removeListeners=function(){var e=n.state.messageListeners;Object.keys(e).forEach((function(n){e[n]()}))},n.displayMessages=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=n.props.currentUser;return e.map((function(n,e){var r=t.uid===n.user.id;return A.a.createElement(ir,{key:e,message:n,ownMessage:r})}))},n.countUniqueMembers=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=n.reduce((function(n,e){return n.includes(e.user.id)||n.push(e.user.id),n}),[]);return e.length},n.getDetailsForMembers=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e={};return console.log(n),n.forEach((function(n){var t=n.user,r=t.id,a=t.name,i=t.avatar;e[r]={name:a,avatar:i,messagesCount:e[r]&&e[r].messagesCount?e[r].messagesCount+1:1}})),Object.keys(e).map((function(n){return Object(ce.a)({},e[n],{id:n})})).sort((function(n,e){return n.messagesCount>e.messagesCount?-1:n.messagesCount<e.messagesCount?1:0}))},n}return Object(a.a)(t,[{key:"componentDidUpdate",value:function(){var n=this.props,e=n.currentChannel,t=n.currentUser;e&&t&&this.addListeners(e.id,e.type),this.messagesEnd&&this.scrollToBottom()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){var n=this,e=this.state,t=e.messages,r=e.loading,a=this.props.currentChannel;return A.a.createElement(zt,null,A.a.createElement(Wt,null,a&&!r?this.displayMessages(this.filterMessages(t[a.id])):A.a.createElement(Ue,{style:{backgroundColor:"transparent"}}),A.a.createElement("span",{ref:function(e){return n.messagesEnd=e}})),a&&A.a.createElement(Ft,null,A.a.createElement(fr,null)))}}]),t}(A.a.Component),hr=Object(u.b)({filters:Ln}),pr=Object(l.b)(hr,(function(n){return{updateMembers:function(e){return n(function(n){return{type:Tn.UPDATE_CHANNEL_MEMBERS,payload:n}}(e))}}}))(mr),br=t(101);function Cr(){var n=Object(d.a)(["\n  margin-left: 10px;\n  border: 2px solid transparent;\n  font-family: 'archiasemibold';\n  cursor: pointer;\n  outline: none;\n  border-radius: 8px;\n  padding: 6px;\n  min-width: 70px;\n  font-size: 15px;\n\n  &.close {\n    color: ",";\n    background-color: ",";\n    border: 2px solid ",";\n  }\n\n  &.confirm {\n    color: ",";\n    background-color: ",";\n  }\n"]);return Cr=function(){return n},n}function Ir(){var n=Object(d.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 10px;\n"]);return Ir=function(){return n},n}function vr(){var n=Object(d.a)(["\n  width: 100%;\n  display: grid;\n  grid-template-columns: auto 80px 0px;\n\n  label {\n    font-family: 'archiasemibold';\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 6px 12px;\n    font-size: 16px;\n    height: 100%;\n    width: 100%;\n    cursor: pointer;\n    border-radius: 0px 8px 8px 0px;\n    color: ",";\n    background-color: ",";\n  }\n\n  span {\n    min-width: 160px;\n    padding: 8px;\n    border: 0px;\n    background-color: ",";\n    color: ",";\n    border-radius: 8px;\n    font-family: 'archiaregular';\n    font-size: 16px;\n  }\n\n  input {\n    width: 0.1px;\n    height: 0.1px;\n    opacity: 0;\n    overflow: hidden;\n    position: absolute;\n    z-index: -1;\n\n    &:focus {\n      outline: none;\n    }\n\n    &::placeholder {\n      color: ",";\n    }\n  }\n"]);return vr=function(){return n},n}function xr(){var n=Object(d.a)(["\n  display: grid;\n  grid-gap: 10px;\n"]);return xr=function(){return n},n}function yr(){var n=Object(d.a)(["\n  color: ",";\n  font-size: 20px;\n  font-family: 'archiasemibold';\n"]);return yr=function(){return n},n}function Er(){var n=Object(d.a)(["\n  padding: 20px;\n  border-radius: 12px;\n  visibility: hidden;\n  background: ",";\n  display: grid;\n  grid-gap: 16px;\n\n  ","\n"]);return Er=function(){return n},n}function wr(){var n=Object(d.a)(["\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  left: 0;\n  position: fixed;\n  z-index: 10;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  visibility: hidden;\n\n  ","\n"]);return wr=function(){return n},n}function Sr(){var n=Object(d.a)(["\n  @keyframes scaleIn {\n    from {\n      opacity: 0;\n      transform: scale(0.5);\n    }\n    to {\n      visibility: visible;\n      opacity: 1;\n      transform: scale(1);\n    }\n  }\n\n  @keyframes scaleOut {\n    from {\n      visibility: ",";\n    }\n    to {\n      visibility: hidden;\n      opacity: 0;\n    }\n  }\n\n  animation-name: ",";\n  animation-duration: 500ms;\n  animation-timing-function: cubic-bezier(0.19, 0.67, 0.01, 1.3);\n  animation-fill-mode: forwards;\n"]);return Sr=function(){return n},n}function kr(){var n=Object(d.a)(["\n  @keyframes opacityIn {\n    from {\n      background-color: transparent;\n    }\n    to {\n      visibility: visible;\n      background-color: ",";\n    }\n  }\n\n  @keyframes opacityOut {\n    from {\n      background-color: ",";\n      /* at start showing is false so in \n      order to avoit flicker issue visibility is set dynamically */\n      visibility: ",";\n    }\n    to {\n      visibility: hidden;\n      background-color: transparent;\n    }\n  }\n\n  animation-name: ",";\n  animation-duration: 500ms;\n  animation-timing-function: ease-in-out;\n  animation-fill-mode: forwards;\n"]);return kr=function(){return n},n}var jr=Object(f.b)(kr(),(function(n){return n.theme.channels.modal.bg}),(function(n){return n.theme.channels.modal.bg}),(function(n){return n.showing?"visible":"hidden"}),(function(n){return n.showing?"opacityIn":"opacityOut"})),Or=Object(f.b)(Sr(),(function(n){return n.showing?"visible":"hidden"}),(function(n){return n.showing?"scaleIn":"scaleOut"})),Br=f.c.div(wr(),jr),Mr=f.c.form(Er(),(function(n){return n.theme.channels.modal.modalBg}),Or),Dr=f.c.h2(yr(),(function(n){return n.theme.channels.modal.textPrimary})),Rr=f.c.div(xr()),Ur=f.c.div(vr(),(function(n){return n.theme.channels.modal.textSecondary}),(function(n){return n.theme.channels.modal.textPrimary}),(function(n){return n.theme.channels.modal.bg}),(function(n){return n.theme.channels.modal.textPrimary}),(function(n){return n.theme.channels.modal.textPrimary})),Tr=f.c.div(Ir()),Nr=f.c.button(Cr(),(function(n){return n.theme.channels.modal.textPrimary}),(function(n){return n.theme.channels.modal.textSecondary}),(function(n){return n.theme.channels.modal.textPrimary}),(function(n){return n.theme.channels.modal.textSecondary}),(function(n){return n.theme.channels.modal.textPrimary})),Pr=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={file:null},n.handlePropogation=function(n){n.stopPropagation()},n.handleSubmit=function(e){e.preventDefault();var t=n.state.file;(0,n.props.confirm)(t)},n.handleChange=function(e){var t=e.target.files,r=t&&t.length?t[0]:null;n.setState({file:r})},n}return Object(a.a)(t,[{key:"render",value:function(){var n=this.state.file,e=this.props,t=e.showing,r=e.close;return A.a.createElement(Br,{showing:t,onClick:r},A.a.createElement(Mr,{onClick:this.handlePropogation,onSubmit:this.handleSubmit,showing:t},A.a.createElement(Dr,null,"Add a file"),A.a.createElement(Rr,null,A.a.createElement(Ur,null,A.a.createElement("span",null,n?n.name:"select a file"),A.a.createElement("label",{htmlFor:"file"},"choose"),A.a.createElement("input",{type:"file",name:"file",id:"file",accept:"image/*",onChange:this.handleChange}))),A.a.createElement(Tr,null,A.a.createElement(Nr,{className:"close",type:"button",onClick:r},"CANCEL"),A.a.createElement(Nr,{className:"confirm",type:"submit"},"UPLOAD"))))}}]),t}(A.a.Component),Qr=(t(92),t(54));function Jr(){var n=Object(d.a)([""]);return Jr=function(){return n},n}function Hr(){var n=Object(d.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n  height: 100%;\n  width: 100%;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  opacity: 0.8;\n\n  &[value]::-webkit-progress-bar {\n    background: transparent;\n    border-radius: 14px;\n  }\n\n  &[value]::-webkit-progress-value {\n    background: ",";\n    border-radius: 14px;\n  }\n"]);return Hr=function(){return n},n}function Gr(){var n=Object(d.a)(["\n  @keyframes spin {\n    from {\n      transform: rotate(-45deg);\n    }\n    to {\n      transform: rotate(315deg);\n    }\n  }\n\n  width: 22px;\n  height: 22px;\n  border: 3px solid ",";\n  border-right: 3px solid transparent;\n  border-radius: 20px;\n  animation: linear spin 1s infinite;\n"]);return Gr=function(){return n},n}function Vr(){var n=Object(d.a)(["\n  background-color: ",";\n  color: ",";\n  ","\n\n  &:disabled {\n    cursor: wait;\n  }\n\n  border-radius: 0px 14px 14px 0px;\n"]);return Vr=function(){return n},n}function Lr(){var n=Object(d.a)(["\n  background-color: ",";\n  ","\n  right: 60px;\n"]);return Lr=function(){return n},n}function zr(){var n=Object(d.a)(["\n  color: ",";\n  ","\n  background: transparent;\n  left: 0;\n  right: none;\n  font-size: 28px;\n  width: 40px;\n  padding-left: 10px;\n\n  &:disabled {\n    cursor: wait;\n  }\n"]);return zr=function(){return n},n}function Wr(){var n=Object(d.a)(["\n  width: 100%;\n  height: 100%;\n  border-radius: 14px;\n  padding: 14px 134px 14px 44px;\n  background-color: ",";\n  border: 0px;\n  color: ",";\n  font-family: 'archiaregular';\n  font-size: 18px;\n\n  &::placeholder {\n    color: ",";\n  }\n\n  &:focus {\n    outline: none;\n    box-shadow: 0px 0px 0px 2px ",";\n  }\n"]);return Wr=function(){return n},n}function Fr(){var n=Object(d.a)(["\n  width: 100%;\n  height: 60px;\n  border-radius: 14px;\n  position: relative;\n"]);return Fr=function(){return n},n}function Xr(){var n=Object(d.a)(["\n  position: absolute;\n  right: 0;\n  top: -370px;\n\n  .emoji-mart-preview {\n    display: none;\n  }\n"]);return Xr=function(){return n},n}function Zr(){var n=Object(d.a)(["\n  width: 100%;\n  height: 100%;\n  position: relative;\n"]);return Zr=function(){return n},n}function Yr(){var n=Object(d.a)(["\n  height: 100%;\n  width: 60px;\n  position: absolute;\n  right: 0;\n  top: 0;\n  border-radius: 14px 0px 0px 14px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 22px;\n  opacity: 0.7;\n  cursor: pointer;\n  transition: ease all 100ms;\n  outline: none;\n  border: none;\n\n  &:hover {\n    opacity: 1;\n  }\n"]);return Yr=function(){return n},n}var Kr=Object(f.b)(Yr()),qr=f.c.div(Zr()),_r=f.c.div(Xr()),$r=f.c.form(Fr()),na=f.c.input(Wr(),(function(n){return n.theme.messageInput.bg}),(function(n){return n.theme.messageInput.text}),(function(n){return n.theme.messageInput.placeholder}),(function(n){return n.theme.messageInput.outline})),ea=f.c.button(zr(),(function(n){return n.theme.messageInput.attachFg}),Kr),ta=f.c.button(Lr(),(function(n){return n.theme.messageInput.emojiBg}),Kr),ra=f.c.button(Vr(),(function(n){return n.theme.messageInput.sendBg}),(function(n){return n.theme.messageInput.sendFg}),Kr),aa=f.c.div(Gr(),(function(n){return n.theme.messageInput.sendFg})),ia=f.c.progress(Hr(),(function(n){return n.theme.messageInput.progress})),oa=Object(f.c)(Qr.a)(Jr()),ca=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={channelsRef:w.collection("channels"),storageRef:k.ref(),typingRef:S.ref("typing"),uploadeState:"",uploadTask:null,percentUploaded:0,message:"",loading:!1,errors:[],modal:!1,emojiPicker:!1},n.handleSubmit=function(e){e.preventDefault(),n.sendMessage()},n.handleChange=function(e){var t=e.target,r=t.name,a=t.value;n.setState(Object(oe.a)({},r,a))},n.sendMessage=function(){var e=n.state,t=e.message,r=e.loading,a=e.typingRef,i=n.props,o=i.currentUser,c=i.currentChannel;if(t&&!r){n.setState({loading:!0});var A=n.getMessageRef(),l=Object(C.a)(A,2),u=l[0],s=l[1];u.set(n.createMessage({id:s.id})).then((function(){n.setState({loading:!1,message:""}),a.child(c.id).child(o.uid).remove()})).catch((function(e){console.error(e),n.setState((function(n){return{errors:n.errors.concat(e),loading:!1}}))}))}},n.getMessageRef=function(){var e=n.props.currentChannel,t=n.state.channelsRef,r=null,a=null;if("direct"===e.type){var i=w.collection("directMessages/".concat(e.id));a=i.doc(),r=i.doc(a.id)}else a=t.doc(e.id).collection("messages").doc(),r=t.doc(e.id).collection("messages").doc(a.id);return[r,a]},n.handleConfirm=function(e){n.setState({modal:!1}),n.uploadeFile(e),console.log("confirmed",e)},n.handleClose=function(){n.setState({modal:!1}),console.log("closed")},n.createMessage=function(e){var t=e.id,r=e.fileUrl,a=n.state.message,i=n.props.currentUser,o={timestamp:j.firestore.FieldValue.serverTimestamp(),id:t,user:{id:i.uid,name:i.displayName,avatar:i.photoURL}};return null!=r?o.image=r:o.content=a,o},n.getPath=function(){var e=n.props.currentChannel;return e&&"direct"===e.type?"chat/private/".concat(e.id):"chat/public"},n.uploadeFile=function(e){var t=n.state.storageRef,r=n.props.currentChannel.id,a="".concat(n.getPath(),"/").concat(Object(br.a)(),".jpg");n.setState({uploadState:"uploading",uploadTask:t.child(a).put(e)},(function(){n.state.uploadTask.on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);n.setState({percentUploaded:t})}),(function(e){console.error(e),n.setState({errors:n.state.errors.concat(e),uploadState:"error",uploadTask:null})}),(function(){n.state.uploadTask.snapshot.ref.getDownloadURL().then((function(e){n.sendFileMessage(e,r)})).catch((function(e){console.error(e),n.setState((function(n){var t=n.errors;n.uploadState,n.uploadTask;return{errors:t.concat(e),uploadState:"error",uploadTask:null}}))}))}))}))},n.sendFileMessage=function(e,t){var r=n.getMessageRef(),a=Object(C.a)(r,2),i=a[0],o=a[1];i.set(n.createMessage({id:o.id,fileUrl:e})).then((function(){n.setState({uploadState:"done"})})).catch((function(e){console.error(e),n.setState((function(n){return{errors:n.errors.concat(e)}}))}))},n.handleKeyDown=function(){var e=n.state,t=e.message,r=e.typingRef,a=n.props,i=a.currentChannel,o=a.currentUser;i&&t.length>1?r.child(i.id).child(o.uid).set(o.displayName):i&&o&&r.child(i.id).child(o.uid).remove()},n.handleTogglePicker=function(){n.setState((function(n){return{emojiPicker:!n.emojiPicker}}))},n.colonsToUnicode=function(n){return n.replace(/:[A-Za-z0-9_+-]+:/g,(function(n){n=n.replace(/:/g,"");var e=Qr.b.emojis[n];if("undefined"!==typeof e){var t=e.native;if("undefined"!==typeof t)return t}return n=":".concat(n,":")}))},n.handleAddEmoji=function(e){var t=n.state.message,r=n.colonsToUnicode("".concat(t).concat(e.colons));n.setState({message:r,emojiPicker:!1},(function(){return n.messageInputRef.focus()}))},n}return Object(a.a)(t,[{key:"componentWillUnmount",value:function(){null!==this.state.uploadTask&&(this.state.uploadTask.cancel(),this.setState({uploadTask:null}))}},{key:"render",value:function(){var n=this,e=this.state,t=e.message,r=e.loading,a=e.modal,i=e.percentUploaded,o=e.uploadState,c=e.emojiPicker,l=this.props,u=l.currentChannel,s=l.theme;return A.a.createElement(qr,null,A.a.createElement(_r,null,c&&A.a.createElement(oa,{className:"emojipicker",set:"twitter",title:"Pick an emoji",emoji:"point_up",onSelect:this.handleAddEmoji,style:{width:"320px"},theme:"dark"===s.name?"dark":"light",themeObj:s,color:"#007BFF"})),A.a.createElement(Pr,{showing:a,confirm:this.handleConfirm,close:this.handleClose}),A.a.createElement($r,{onSubmit:this.handleSubmit},"uploading"===o?A.a.createElement(ia,{type:"progress",max:"100",value:i}):null,A.a.createElement(na,{ref:function(e){return n.messageInputRef=e},required:!0,type:"text",name:"message",onChange:this.handleChange,onKeyDown:this.handleKeyDown,value:t,autocomplete:"off",placeholder:u&&u.name?"message ".concat("direct"===u.type?"@":"#").concat(u.name):"message"}),A.a.createElement(ea,{type:"button",onClick:function(){return n.setState({modal:!0})},disabled:"uploading"===o},"uploading"===o?A.a.createElement(aa,null):A.a.createElement(v.a,null)),A.a.createElement(ta,{type:"button",onClick:this.handleTogglePicker},A.a.createElement("span",{role:"img","aria-label":"smile"},"\ud83d\ude42")),A.a.createElement(ra,{type:"submit",disabled:r||!u},r?A.a.createElement(aa,null):A.a.createElement(v.e,null))))}}]),t}(A.a.Component),Aa=Object(u.b)({theme:N}),la=Object(l.b)(Aa)(ca),ua=Object(u.b)({currentUser:B,currentChannel:Gn}),sa=Object(l.b)(ua)((function(n){var e=n.currentUser,t=n.currentChannel;return A.a.createElement(dt,null,A.a.createElement(Qt,{currentUser:e,currentChannel:t}),A.a.createElement(pr,{currentUser:e,currentChannel:t}),A.a.createElement(la,{currentUser:e,currentChannel:t}))}));function ga(){var n=Object(d.a)(["\n  h2 {\n    font-size: 17px;\n  }\n\n  span {\n    font-size: 14px;\n  }\n"]);return ga=function(){return n},n}function da(){var n=Object(d.a)(["\n  display: grid;\n  grid-template-columns: 45px auto;\n  grid-gap: 8px;\n  align-items: center;\n  margin-bottom: 10px;\n\n  h2 {\n    margin-bottom: 0px;\n  }\n\n  img {\n    height: 45px;\n    width: 45px;\n    border-radius: 30px;\n  }\n"]);return da=function(){return n},n}function fa(){var n=Object(d.a)(["\n  h2 {\n    font-size: 22px;\n    margin-bottom: 10px;\n  }\n\n  > :last-child {\n    margin-bottom: 0px;\n  }\n"]);return fa=function(){return n},n}function ma(){var n=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 22px;\n\n  h2 {\n    font-size: 18px;\n    margin-right: 6px;\n  }\n"]);return ma=function(){return n},n}function ha(){var n=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 4px;\n\n  h2 {\n    font-size: 18px;\n    margin-right: 6px;\n  }\n"]);return ha=function(){return n},n}function pa(){var n=Object(d.a)(["\n  margin-bottom: 14px;\n\n  h2 {\n    font-size: 22px;\n  }\n"]);return pa=function(){return n},n}function ba(){var n=Object(d.a)(["\n  height: 100%;\n  width: 100%;\n  background-color: ",";\n  border-radius: 14px;\n  padding: 14px 20px;\n\n  h2 {\n    font-family: 'archiasemibold';\n    color: ",";\n  }\n\n  p,\n  span {\n    font-family: 'archiaregular';\n    color: ",";\n    font-size: 16px;\n  }\n"]);return ba=function(){return n},n}function Ca(){var n=Object(d.a)(["\n  width: 100%;\n  height: 100%;\n  padding: 14px 14px 14px 0px;\n"]);return Ca=function(){return n},n}var Ia=f.c.div(Ca()),va=f.c.div(ba(),(function(n){return n.theme.meta.bg}),(function(n){return n.theme.meta.textPrimary}),(function(n){return n.theme.meta.textSecondary})),xa=f.c.div(pa()),ya=f.c.div(ha()),Ea=f.c.div(ma()),wa=f.c.ul(fa()),Sa=f.c.li(da()),ka=f.c.div(ga()),ja=Object(u.b)({currentChannel:Gn,channelMembers:Vn,isPrivateChannel:zn}),Oa=Object(l.b)(ja)((function(n){var e,t=n.currentChannel,r=n.channelMembers,a=n.isPrivateChannel;return A.a.createElement(Ia,null,A.a.createElement(va,null,t&&!a?A.a.createElement(A.a.Fragment,null,A.a.createElement(xa,null,A.a.createElement("h2",null,"About #",t.name),A.a.createElement("p",null,t.details)),A.a.createElement(ya,null,A.a.createElement("h2",null,"created by"),A.a.createElement("span",null,"@",t.createdBy.name)),A.a.createElement(Ea,null,A.a.createElement("h2",null,"created on"),A.a.createElement("span",null,(e=t.createdAt,Zt()(e.toDate()).format("Do MMM, YYYY"))))):null,r&&!a&&r.members.length?A.a.createElement(wa,null,A.a.createElement("h2",null,"Active Members"),r.members.map((function(n,e){var t=n.name,r=n.avatar,a=n.messagesCount;return A.a.createElement(Sa,{key:e},A.a.createElement("img",{src:r,alt:"avatar"}),A.a.createElement(ka,null,A.a.createElement("h2",null,t),A.a.createElement("span",null,a," ",a>1?"messages":"message"," ")))}))):null))})),Ba=function(){return A.a.createElement(h,null,A.a.createElement(st,null),A.a.createElement(sa,null),A.a.createElement(Oa,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ma=Object(u.b)({currentTheme:N}),Da=Object(l.b)(Ma)((function(n){var e=n.children,t=n.currentTheme,r=Object(ke.a)(n,["children","currentTheme"]);return A.a.createElement(f.a,Object.assign({theme:t},r),e)})),Ra=t(39),Ua=t(53),Ta=t(28),Na=t.n(Ta),Pa=t(69);function Qa(){var n=Object(d.a)(["\n  font-family: 'archiasemibold';\n  display: flex;\n  justify-content: center;\n  div {\n    color: ",";\n    span {\n      margin-right: 2px;\n    }\n  }\n"]);return Qa=function(){return n},n}function Ja(){var n=Object(d.a)(["\n  background-color: ",";\n  padding: 22px;\n  border-radius: 20px;\n  box-shadow: 0px 0px 20px 0px rgba(0, 0, 0, 0.1);\n  display: grid;\n  grid-gap: 14px;\n  width: 340px;\n\n  button {\n    margin-top: 16px;\n  }\n"]);return Ja=function(){return n},n}function Ha(){var n=Object(d.a)(["\n  font-family: 'archiasemibold';\n  color: ",";\n  padding-left: 6px;\n  width: 340px;\n"]);return Ha=function(){return n},n}function Ga(){var n=Object(d.a)(["\n  display: grid;\n  grid-gap: 20px;\n  justify-content: center;\n  justify-items: center;\n  align-items: center;\n  max-width: 450px;\n"]);return Ga=function(){return n},n}function Va(){var n=Object(d.a)(["\n  height: 100%;\n  width: 100%;\n  background-color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 20px;\n"]);return Va=function(){return n},n}var La=f.c.div(Va(),(function(n){return n.theme.bg})),za=f.c.div(Ga()),Wa=f.c.h1(Ha(),(function(n){return n.theme.form.headingText})),Fa=f.c.form(Ja(),(function(n){return n.theme.form.bg})),Xa=f.c.div(Qa(),(function(n){return n.theme.text}));function Za(){var n=Object(d.a)(["\n  @keyframes spin {\n    from {\n      transform: rotate(-45deg);\n    }\n    to {\n      transform: rotate(315deg);\n    }\n  }\n\n  width: 28px;\n  height: 28px;\n  border: 4px solid ",";\n  border-right: 4px solid transparent;\n  border-radius: 20px;\n  animation: linear spin 1s infinite;\n"]);return Za=function(){return n},n}function Ya(){var n=Object(d.a)(["\n  border: 0px;\n  background-color: ",";\n  color: ",";\n  padding: 6px;\n  font-family: 'archiasemibold';\n  font-size: ",";\n  width: 100%;\n  height: ",";\n  padding: ",";\n  cursor: pointer;\n  border-radius: 9999px;\n  border: 3px solid transparent;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n\n  /* &:hover {\n    border: 2px solid ",";\n    background-color: ",";\n    color: ",";\n  } */\n\n  &:focus {\n    outline: none;\n    border: 3px dashed ",";\n  }\n"]);return Ya=function(){return n},n}var Ka=f.c.button(Ya(),(function(n){var e=n.theme;return n.disabled?e.button.bgDisabled:e.button.bg}),(function(n){return n.theme.button.text}),(function(n){return n.fontSize}),(function(n){var e=n.height;return e||"28px"}),(function(n){return n.padding}),(function(n){return n.theme.button.bg}),(function(n){return n.theme.button.text}),(function(n){return n.theme.button.bg}),(function(n){return n.theme.button.text})),qa=f.c.div(Za(),(function(n){return n.theme.button.bg})),_a=function(n){var e=n.children,t=n.loading,r=Object(ke.a)(n,["children","loading"]);return A.a.createElement(Ka,r,t?A.a.createElement(qa,null):e)};function $a(){var n=Object(d.a)(["\n  height: 100%;\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0px 18px;\n"]);return $a=function(){return n},n}function ni(){var n=Object(d.a)(["\n  background-color: ",";\n  border-radius: 16px;\n  width: 100%;\n  height: 100%;\n  border: 0px;\n  font-family: 'archiasemibold';\n  font-size: ",";\n  color: ",";\n  padding: 14px 20px;\n  padding-left: ",";\n\n  &::placeholder {\n    color: ",";\n  }\n\n  &:focus {\n    outline: none;\n    box-shadow: 0px 0px 0px 3px\n      ",";\n  }\n\n  ","\n\n  /* Change Autocomplete styles in Chrome*/\n  &:-webkit-autofill,\n  &:-webkit-autofill:hover, \n  &:-webkit-autofill:focus {\n    -webkit-text-fill-color: ",";\n  }\n"]);return ni=function(){return n},n}function ei(){var n=Object(d.a)(["\n  width: 100%;\n  position: relative;\n"]);return ei=function(){return n},n}function ti(){var n=Object(d.a)(["\n  box-shadow: 0px 0px 0px 3px ",";\n  background-color: ",";\n  color: ",";\n\n  &::placeholder {\n    color: ",";\n  }\n"]);return ti=function(){return n},n}var ri=Object(f.b)(ti(),(function(n){return n.theme.form.error.placeholder}),(function(n){return n.theme.form.error.bg}),(function(n){return n.theme.form.error.text}),(function(n){return n.theme.form.error.placeholder})),ai=f.c.div(ei()),ii=f.c.input(ni(),(function(n){return n.theme.form.field.bg}),(function(n){return n.fontSize||"18px"}),(function(n){return n.theme.form.field.text}),(function(n){return n.Icon?"56px":"20px"}),(function(n){return n.theme.form.field.placeholder}),(function(n){var e=n.theme;return n.error?e.form.error.text:e.form.field.focusBorder}),(function(n){return n.error?ri:""}),(function(n){return n.theme.form.field.text})),oi=f.c.span($a()),ci=function(n){var e=n.iconSize,t=n.Icon,r=n.error,a=Object(ke.a)(n,["iconSize","Icon","error"]),i=Object(f.d)();return A.a.createElement(ai,null,A.a.createElement(oi,null,t?A.a.createElement(t,{color:r?i.form.error.placeholder:i.form.field.icon,size:e||24}):""),A.a.createElement(ii,Object.assign({},a,{error:r,Icon:t})))};function Ai(){var n=Object(d.a)(["\n  font-family: 'archiaregular';\n  font-size: 16px;\n  margin-top: 4px;\n"]);return Ai=function(){return n},n}function li(){var n=Object(d.a)(["\n  font-size: 22px;\n"]);return li=function(){return n},n}function ui(){var n=Object(d.a)(["\n  width: 100%;\n  background-color: ",";\n  color: ",";\n  font-family: 'archiasemibold';\n  border-radius: 16px;\n  padding: 20px;\n  text-align: center;\n"]);return ui=function(){return n},n}var si=f.c.div(ui(),(function(n){return n.theme.form.error.bg}),(function(n){return n.theme.form.error.text})),gi=f.c.h2(li()),di=f.c.p(Ai()),fi=function(n){var e=n.errors,t=void 0===e?[{message:"some error occured"}]:e;return A.a.createElement(si,null,A.a.createElement(gi,null,"Error"),t.map((function(n,e){return A.a.createElement(di,{key:e},n.message)})))};function mi(){var n=Object(d.a)(["\n  color: ",";\n  text-decoration: none;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:visited {\n    color: ",";\n  }\n"]);return mi=function(){return n},n}var hi=Object(f.c)(Ua.b)(mi(),(function(n){return n.theme.link.text}),(function(n){return n.theme.link.bg}),(function(n){return n.theme.link.text})),pi=function(n){var e=n.children,t=Object(ke.a)(n,["children"]);return A.a.createElement(hi,t,e)},bi=function(n){var e=Uint8Array.from(atob(n).split("").map((function(n){return n.charCodeAt(0)})));return new Blob([e],{type:"image/jpg"})}("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Q2xicmJvb2wAAAAAAFJnc01ib29sAAAAAABDcm5DYm9vbAAAAAAAQ250Q2Jvb2wAAAAAAExibHNib29sAAAAAABOZ3R2Ym9vbAAAAAAARW1sRGJvb2wAAAAAAEludHJib29sAAAAAABCY2tnT2JqYwAAAAEAAAAAAABSR0JDAAAAAwAAAABSZCAgZG91YkBv4AAAAAAAAAAAAEdybiBkb3ViQG/gAAAAAAAAAAAAQmwgIGRvdWJAb+AAAAAAAAAAAABCcmRUVW50RiNSbHQAAAAAAAAAAAAAAABCbGQgVW50RiNSbHQAAAAAAAAAAAAAAABSc2x0VW50RiNQeGxAUgAAAAAAAAAAAAp2ZWN0b3JEYXRhYm9vbAEAAAAAUGdQc2VudW0AAAAAUGdQcwAAAABQZ1BDAAAAAExlZnRVbnRGI1JsdAAAAAAAAAAAAAAAAFRvcCBVbnRGI1JsdAAAAAAAAAAAAAAAAFNjbCBVbnRGI1ByY0BZAAAAAAAAAAAAEGNyb3BXaGVuUHJpbnRpbmdib29sAAAAAA5jcm9wUmVjdEJvdHRvbWxvbmcAAAAAAAAADGNyb3BSZWN0TGVmdGxvbmcAAAAAAAAADWNyb3BSZWN0UmlnaHRsb25nAAAAAAAAAAtjcm9wUmVjdFRvcGxvbmcAAAAAADhCSU0D7QAAAAAAEABIAAAAAQABAEgAAAABAAE4QklNBCYAAAAAAA4AAAAAAAAAAAAAP4AAADhCSU0EDQAAAAAABAAAAFo4QklNBBkAAAAAAAQAAAAeOEJJTQPzAAAAAAAJAAAAAAAAAAABADhCSU0nEAAAAAAACgABAAAAAAAAAAE4QklNA/UAAAAAAEgAL2ZmAAEAbGZmAAYAAAAAAAEAL2ZmAAEAoZmaAAYAAAAAAAEAMgAAAAEAWgAAAAYAAAAAAAEANQAAAAEALQAAAAYAAAAAAAE4QklNA/gAAAAAAHAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAOEJJTQQAAAAAAAACAAI4QklNBAIAAAAAAAgAAAAAAAAAADhCSU0EMAAAAAAABAEBAQE4QklNBC0A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czpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMC0wNC0xNlQwOTo0MDoxNyswNTozMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNC0xNlQwOTo0MDoxNyswNTozMCIgeG1wOk1vZGlmeURhdGU9IjIwMjAtMDQtMTZUMDk6NDA6MTcrMDU6MzAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODdjMzMyNzEtOTA0OS1kZjRiLTljNjAtMjMzY2NmYTAxOTgzIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6MmRmYzc3YjUtN2Y5OC0xMWVhLTg0YTUtYWUwN2I5N2I2N2QyIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NmI0MzQwNmMtMzQ5Zi03MzQ0LTgxZTItY2M0MTlhMzM3MzY2IiBkYzpmb3JtYXQ9ImltYWdlL2pwZWciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjZiNDM0MDZjLTM0OWYtNzM0NC04MWUyLWNjNDE5YTMzNzM2NiIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0xNlQwOTo0MDoxNyswNTozMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo4N2MzMzI3MS05MDQ5LWRmNGItOWM2MC0yMzNjY2ZhMDE5ODMiIHN0RXZ0OndoZW49IjIwMjAtMDQtMTZUMDk6NDA6MTcrMDU6MzAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD94cGFja2V0IGVuZD0idyI/Pv/uAA5BZG9iZQBkQAAAAAH/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQECAgICAgICAgICAgMDAwMDAwMDAwMBAQEBAQEBAQEBAQICAQICAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA//AABEIAHgAeAMBEQACEQEDEQH/3QAEAA//xAGiAAAABgIDAQAAAAAAAAAAAAAHCAYFBAkDCgIBAAsBAAAGAwEBAQAAAAAAAAAAAAYFBAMHAggBCQAKCxAAAgEDBAEDAwIDAwMCBgl1AQIDBBEFEgYhBxMiAAgxFEEyIxUJUUIWYSQzF1JxgRhikSVDobHwJjRyChnB0TUn4VM2gvGSokRUc0VGN0djKFVWVxqywtLi8mSDdJOEZaOzw9PjKThm83UqOTpISUpYWVpnaGlqdnd4eXqFhoeIiYqUlZaXmJmapKWmp6ipqrS1tre4ubrExcbHyMnK1NXW19jZ2uTl5ufo6er09fb3+Pn6EQACAQMCBAQDBQQEBAYGBW0BAgMRBCESBTEGACITQVEHMmEUcQhCgSORFVKhYhYzCbEkwdFDcvAX4YI0JZJTGGNE8aKyJjUZVDZFZCcKc4OTRnTC0uLyVWV1VjeEhaOzw9Pj8ykalKS0xNTk9JWltcXV5fUoR1dmOHaGlqa2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"),Ci=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={username:"",email:"",password:"",confirmPassword:"",errors:[],loading:!1,usersRef:w.collection("users")},n.isFormValid=function(){var e,t=[];if(n.isFormEmpty(n.state))e={message:"Fill in all fields."},n.setState({errors:t.concat(e)});else{if(n.isPasswordValid(n.state))return!0;e={message:"Password is invalid."},n.setState({errors:t.concat(e)})}},n.isFormEmpty=function(n){var e=n.username,t=n.email,r=n.password,a=n.confirmPassword;return!e.length||!t.length||!r.length||!a.length},n.isPasswordValid=function(n){var e=n.password,t=n.confirmPassword;return!(e.length<6||t.length<6)&&e===t},n.handleSubmit=function(e){e.preventDefault();var t=n.state,r=t.username,a=t.email,i=t.password,o=t.loading,c=n.props.setCurrentUser;n.isFormValid()&&!o&&(n.setState({errors:[],loading:!0}),E.createUserWithEmailAndPassword(a,i).then(function(){var e=Object(Pa.a)(Na.a.mark((function e(t){var i;return Na.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),i=null,e.prev=2,e.next=5,n.getAvatarUrl({email:a,uid:t.user.uid});case 5:i=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:t.user.updateProfile({displayName:r,photoURL:i}).then((function(){n.saveUser(t).then((function(){c(Object(ce.a)({},t.user)),console.log("user saved")}))})).catch((function(e){console.error(e),n.setState((function(n){return{errors:n.errors.concat(e)}}))}));case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.error(e),n.setState((function(n){return{errors:n.errors.concat(e)}}))})).finally((function(){n.setState({loading:!1})})))},n.saveUser=function(e){var t=n.state.usersRef,r=e.user,a=r.uid,i=r.displayName,o=r.photoURL;return t.doc(a).set({name:i,avatar:o})},n.handleChange=function(e){n.setState(Object(oe.a)({},e.target.name,e.target.value))},n.getAvatarUrl=function(n){var e=n.uid;return new Promise((function(n,t){k.ref().child("avatars/users/".concat(e)).put(bi,{contentType:"image/jpeg"}).then((function(e){e.ref.getDownloadURL().then((function(e){return n(e)}))})).catch((function(n){console.error(n),t(n)}))}))},n}return Object(a.a)(t,[{key:"handleInputError",value:function(n,e){return n.some((function(n){return n.message.toLowerCase().includes(e)}))}},{key:"render",value:function(){var n=this.state,e=n.username,t=n.email,r=n.password,a=n.confirmPassword,i=n.errors,o=n.loading;return A.a.createElement(La,null,A.a.createElement(za,null,A.a.createElement(Wa,null,"Register"),A.a.createElement(Fa,{onSubmit:this.handleSubmit},A.a.createElement(ci,{Icon:I.k,name:"username",placeholder:"Username",onChange:this.handleChange,value:e}),A.a.createElement(ci,{Icon:v.b,type:"email",name:"email",placeholder:"Email",onChange:this.handleChange,value:t,error:this.handleInputError(i,"email")}),A.a.createElement(ci,{Icon:I.b,type:"password",name:"password",placeholder:"Password",onChange:this.handleChange,value:r,error:this.handleInputError(i,"password")}),A.a.createElement(ci,{Icon:I.b,type:"password",name:"confirmPassword",placeholder:"Confirm Password",onChange:this.handleChange,value:a,error:this.handleInputError(i,"password")}),A.a.createElement(_a,{disabled:o,loading:o,height:"50px",type:"submit",fontSize:"18px"},"Submit")),i.length?A.a.createElement(fi,{errors:i}):null,A.a.createElement(Xa,null,A.a.createElement("div",null,A.a.createElement("span",null,"Already a user?"),A.a.createElement(pi,{to:"/login"},"\xa0Login\xa0")))))}}]),t}(A.a.Component),Ii=Object(l.b)(null,(function(n){return{setCurrentUser:function(e){return n(U(e))}}}))(Ci);function vi(){var n=Object(d.a)(["\n  font-family: 'archiasemibold';\n  display: flex;\n  justify-content: center;\n  div {\n    color: ",";\n    span {\n      margin-right: 2px;\n    }\n  }\n"]);return vi=function(){return n},n}function xi(){var n=Object(d.a)(["\n  background-color: ",";\n  padding: 22px;\n  border-radius: 20px;\n  box-shadow: 0px 0px 20px 0px rgba(0, 0, 0, 0.1);\n  display: grid;\n  grid-gap: 14px;\n  width: 340px;\n\n  button {\n    margin-top: 16px;\n  }\n"]);return xi=function(){return n},n}function yi(){var n=Object(d.a)(["\n  font-family: 'archiasemibold';\n  color: ",";\n  padding-left: 6px;\n  width: 340px;\n"]);return yi=function(){return n},n}function Ei(){var n=Object(d.a)(["\n  display: grid;\n  grid-gap: 20px;\n  justify-content: center;\n  justify-items: center;\n  align-items: center;\n  max-width: 450px;\n"]);return Ei=function(){return n},n}function wi(){var n=Object(d.a)(["\n  height: 100%;\n  width: 100%;\n  background-color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 20px;\n"]);return wi=function(){return n},n}var Si=f.c.div(wi(),(function(n){return n.theme.bg})),ki=f.c.div(Ei()),ji=f.c.h1(yi(),(function(n){return n.theme.form.headingText})),Oi=f.c.form(xi(),(function(n){return n.theme.form.bg})),Bi=f.c.div(vi(),(function(n){return n.theme.text})),Mi=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={email:"",password:"",errors:[],loading:!1},n.handleSubmit=function(e){if(e.preventDefault(),n.isFormValid(n.state)){n.setState({errors:[],loading:!0});var t=n.state,r=t.email,a=t.password;E.signInWithEmailAndPassword(r,a).then((function(n){console.log(n)})).catch((function(e){console.error(e),n.setState((function(n){return{errors:n.errors.concat(e),loading:!1}}))}))}},n.isFormValid=function(n){var e=n.email,t=n.password;return e&&t},n.handleChange=function(e){n.setState(Object(oe.a)({},e.target.name,e.target.value))},n}return Object(a.a)(t,[{key:"handleInputError",value:function(n,e){return n.some((function(n){return n.message.toLowerCase().includes(e)}))}},{key:"render",value:function(){var n=this.state,e=n.email,t=n.password,r=n.errors,a=n.loading;return A.a.createElement(Si,null,A.a.createElement(ki,null,A.a.createElement(ji,null,"Login"),A.a.createElement(Oi,{onSubmit:this.handleSubmit},A.a.createElement(ci,{Icon:v.b,type:"email",name:"email",placeholder:"Email",onChange:this.handleChange,value:e,error:this.handleInputError(r,"email")}),A.a.createElement(ci,{Icon:I.b,type:"password",name:"password",placeholder:"Password",onChange:this.handleChange,value:t,error:this.handleInputError(r,"password")}),A.a.createElement(_a,{disabled:a,loading:a,height:"50px",type:"submit",fontSize:"18px"},"Submit")),r.length?A.a.createElement(fi,{errors:r}):null,A.a.createElement(Bi,null,A.a.createElement("div",null,A.a.createElement("span",null,"Don't have an account?"),A.a.createElement(pi,{to:"/register"},"\xa0Register\xa0")))))}}]),t}(A.a.Component),Di=t(34),Ri=(t(96),t(71)),Ui=t(72),Ti={red:"#FF073A",littleLightRed:"rgba(255, 7, 58, 0.5)",lightRed:"rgba(255, 7, 58, 0.12)",green:"#28A745",pastelGreen:"#41F56A",lightGreen:"rgba(40, 167, 69, 0.12)",blue:"#007BFF",lightBlue:"rgba(0, 122, 255, 0.12)",gray:"#6C757D",littleLightGray:"rgba(108, 117, 125, 0.5)",littleLighterGray:"rgba(108, 117, 125, 0.25)",lightGray:"rgba(108, 117, 125, 0.12)",veryLightGray:"rgba(108, 117, 125, 0.06)",black:"#3E3E3E",littleDarkerBlack:"#1E1E1E",darkerBlack:"#141414",white:"#FFFFFF",lightWhite:"rgba(255, 255, 255, 0.6)",veryLightWhite:"rgba(255, 255, 255, 0.2)",lightest:"#F9F9FB",yellow:"#FFC400",lightYellow:"rgba(255, 196, 0, 0.12)"},Ni={light:{name:"light",bg:Ti.lightest,text:Ti.gray,scrollbar:{bg:Ti.lightGray,fg:Ti.littleLighterGray,fgHover:Ti.littleLightGray},sidePanel:{bg:Ti.white},message:{textPrimary:Ti.black,textSecondary:Ti.littleLightGray},messages:{bg:Ti.white},typingUsers:{itemBg:Ti.veryLightGray,dot:Ti.gray,text:Ti.gray},messageInput:{bg:Ti.white,attachFg:Ti.gray,emojiBg:Ti.lightYellow,sendBg:Ti.lightBlue,sendFg:Ti.blue,placeholder:Ti.gray,text:Ti.black,outline:Ti.blue,errorBg:Ti.lightRed,progress:Ti.lightGreen},channelHeader:{bg:Ti.white,text:Ti.black,icon:Ti.yellow,search:{text:Ti.gray,placeholder:Ti.littleLightGray,bg:Ti.lightGray},status:{online:Ti.green,offline:Ti.red,away:Ti.yellow}},userStatusCard:{bg:Ti.blue,text:Ti.white,subText:Ti.lightest,icon:Ti.lightest,optionBg:Ti.veryLightWhite,statusColors:{online:Ti.pastelGreen,offline:Ti.red,away:Ti.yellow},modal:{bg:Ti.lightBlue,modalBg:Ti.white,textPrimary:Ti.blue,textSecondary:Ti.white,buttonPrimary:Ti.blue,buttonSeconday:Ti.white}},starred:{bg:Ti.lightYellow,text:Ti.yellow,hover:Ti.lightYellow,icon:Ti.yellow},channels:{bg:Ti.lightBlue,text:Ti.blue,hover:Ti.lightBlue,icon:Ti.blue,modal:{bg:Ti.lightBlue,modalBg:Ti.white,textPrimary:Ti.blue,textSecondary:Ti.white,buttonPrimary:Ti.blue,buttonSeconday:Ti.white},notificationsBg:Ti.white,notificationsFg:Ti.blue},directMessages:{bg:Ti.lightBlue,text:Ti.blue,hover:Ti.lightBlue,icon:Ti.blue,status:{online:Ti.green,offline:Ti.red,away:Ti.yellow}},meta:{bg:Ti.white,textPrimary:Ti.black,textSecondary:Ti.gray},spinner:{bg:Ti.lightest,text:Ti.blue,loaderFg:Ti.blue,loaderBg:Ti.lightBlue},form:{bg:Ti.white,headingText:Ti.gray,text:Ti.gray,field:{icon:Ti.gray,text:Ti.gray,bg:Ti.lightest,placeholder:Ti.littleLightGray,focusBorder:Ti.blue},error:{bg:Ti.lightRed,text:Ti.red,placeholder:Ti.littleLightRed}},button:{text:Ti.white,bg:Ti.blue,bgDisabled:Ti.lightBlue},link:{bg:Ti.lightBlue,text:Ti.blue}},dark:{name:"dark",bg:Ti.littleDarkerBlack,text:Ti.white,scrollbar:{bg:Ti.lightGray,fg:Ti.littleLighterGray,fgHover:Ti.littleLightGray},sidePanel:{bg:Ti.darkerBlack},message:{textPrimary:Ti.white,textSecondary:Ti.lightWhite},messages:{bg:Ti.darkerBlack},typingUsers:{itemBg:Ti.littleDarkerBlack,dot:Ti.lightWhite,text:Ti.lightWhite},messageInput:{bg:Ti.darkerBlack,attachFg:Ti.lightWhite,emojiBg:Ti.lightYellow,sendBg:Ti.lightBlue,sendFg:Ti.blue,placeholder:Ti.lightWhite,text:Ti.white,outline:Ti.blue,errorBg:Ti.lightRed,progress:Ti.lightGreen},channelHeader:{bg:Ti.darkerBlack,text:Ti.white,icon:Ti.yellow,search:{text:Ti.white,placeholder:Ti.littleWhite,bg:Ti.littleDarkerBlack},status:{online:Ti.green,offline:Ti.red,away:Ti.yellow}},userStatusCard:{bg:Ti.blue,text:Ti.white,subText:Ti.lightest,icon:Ti.lightest,optionBg:Ti.veryLightWhite,statusColors:{online:Ti.pastelGreen,offline:Ti.red,away:Ti.yellow},modal:{bg:Ti.lightBlue,modalBg:Ti.darkerBlack,textPrimary:Ti.blue,textSecondary:Ti.littleDarkerBlack,buttonPrimary:Ti.blue,buttonSeconday:Ti.littleDarkerBlack}},starred:{bg:Ti.lightYellow,text:Ti.yellow,hover:Ti.lightYellow,icon:Ti.yellow},channels:{bg:Ti.lightBlue,text:Ti.blue,hover:Ti.lightBlue,icon:Ti.blue,modal:{bg:Ti.lightBlue,modalBg:Ti.darkerBlack,textPrimary:Ti.blue,textSecondary:Ti.littleDarkerBlack,buttonPrimary:Ti.littleDarkerBlack,buttonSeconday:Ti.littleDarkerBlack},notificationsBg:Ti.white,notificationsFg:Ti.blue},directMessages:{bg:Ti.lightBlue,text:Ti.blue,hover:Ti.lightBlue,icon:Ti.blue,status:{online:Ti.green,offline:Ti.red,away:Ti.yellow}},meta:{bg:Ti.darkerBlack,textPrimary:Ti.white,textSecondary:Ti.lightWhite},spinner:{bg:Ti.littleDarkerBlack,text:Ti.blue,loaderFg:Ti.blue,loaderBg:Ti.lightBlue},form:{bg:Ti.darkerBlack,headingText:Ti.white,text:Ti.white,field:{icon:Ti.white,text:Ti.white,bg:Ti.littleDarkerBlack,placeholder:Ti.gray,focusBorder:Ti.blue},error:{bg:Ti.lightRed,text:Ti.red,placeholder:Ti.littleLightRed}},button:{text:Ti.darkerBlack,bg:Ti.blue,bgDisabled:Ti.lightBlue},link:{bg:Ti.lightBlue,text:Ti.blue}}},Pi={currentTheme:Ni.light},Qi=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case T.SET_THEME:return Object(ce.a)({},n,{currentTheme:Ni[e.payload]});default:return n}},Ji={currentUser:null,isLoading:!0,status:"online"},Hi=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ji,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case R.SET_USER_IS_LOADING:return Object(ce.a)({},n,{isLoading:e.payload});case R.CLEAR_CURRENT_USER:return Object(ce.a)({},n,{currentUser:null,isLoading:!1});case R.SET_CURRENT_USER:return Object(ce.a)({},n,{currentUser:e.payload,isLoading:!1});case R.SET_USER_STATUS:return Object(ce.a)({},n,{status:e.payload});default:return n}},Gi={currentChannel:null,channels:null,channelMembers:0,messageSearchFilters:{text:""},isPrivateChannel:!1,otherUsersStatus:{},starredChannels:null},Vi=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gi,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Tn.SET_CHANNELS:return Object(ce.a)({},n,{channels:e.payload});case Tn.SET_CURRENT_CHANNEL:return Object(ce.a)({},n,{currentChannel:e.payload});case Tn.UPDATE_CHANNEL_MEMBERS:return Object(ce.a)({},n,{channelMembers:e.payload});case Tn.SET_MESSAGE_SEARCH_FILTERS:return Object(ce.a)({},n,{messageSearchFilters:Object(ce.a)({},n.messageSearchFilters,{},e.payload)});case Tn.SET_PRIVATE_CHANNEL:return Object(ce.a)({},n,{isPrivateChannel:e.payload});case Tn.SET_OTHER_USERS_STATUS:return Object(ce.a)({},n,{otherUsersStatus:e.payload});case Tn.SET_STARRED_CHANNELS:return Object(ce.a)({},n,{starredChannels:e.payload});default:return n}},Li=Object(Di.combineReducers)({theme:Qi,user:Hi,chat:Vi}),zi=t(32),Wi=function(n,e){return void 0!==e&&n.map((function(n){return e.includes(n.id)?n.starred=!0:n.starred=!1,n})),Object(ie.a)(n)},Fi=Na.a.mark(Yi),Xi=Na.a.mark(Ki),Zi=Na.a.mark(qi);function Yi(n){var e,t,r,a,i;return Na.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return e=n.payload,t=e,o.next=4,Object(zi.d)(Hn);case 4:return r=o.sent,a=Wi(r,t),o.next=8,Object(zi.c)(Nn(a));case 8:return o.next=10,Object(zi.d)(Gn);case 10:if(i=o.sent,!t){o.next=15;break}return i=t.includes(i.id)?Object(ce.a)({},i,{starred:!0}):Object(ce.a)({},i,{starred:!1}),o.next=15,Object(zi.c)(Pn(i));case 15:case"end":return o.stop()}}),Fi)}function Ki(){return Na.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(zi.e)(Tn.SET_STARRED_CHANNELS,Yi);case 2:case"end":return n.stop()}}),Xi)}function qi(){return Na.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(zi.a)([Object(zi.b)(Ki)]);case 2:case"end":return n.stop()}}),Zi)}var _i=Na.a.mark($i);function $i(){return Na.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(zi.a)([Object(zi.b)(qi)]);case 2:case"end":return n.stop()}}),_i)}var no=Object(Ui.a)(),eo=[no];var to=Object(Di.createStore)(Li,Object(Ri.composeWithDevTools)(Di.applyMiddleware.apply(void 0,eo)));no.run($i);var ro=to,ao=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).unsubscribeFromAuth=null,n}return Object(a.a)(t,[{key:"componentDidMount",value:function(){var n=this.props,e=n.history,t=n.setCurrentUser,r=n.clearCurrentUser;this.unsubscribeFromAuth=E.onAuthStateChanged((function(n){n?(t(n),e.push("/")):(e.push("/login"),r())}))}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){return this.props.isLoading?A.a.createElement(Ue,null):A.a.createElement(Ra.c,null,A.a.createElement(Ra.a,{exact:!0,path:"/",component:Ba}),A.a.createElement(Ra.a,{exact:!0,path:"/register",component:Ii}),A.a.createElement(Ra.a,{exact:!0,path:"/login",component:Mi}))}}]),t}(A.a.Component),io=Object(u.b)({isLoading:M}),oo=Object(Ra.f)(Object(l.b)(io,(function(n){return{setCurrentUser:function(e){return n(U(e))},clearCurrentUser:function(){return n({type:R.CLEAR_CURRENT_USER})}}}))(ao));g.a.render(A.a.createElement(A.a.StrictMode,null,A.a.createElement(l.a,{store:ro},A.a.createElement(Da,null,A.a.createElement(Ua.a,{basename:"/"},A.a.createElement(oo,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[74,1,2]]]);
//# sourceMappingURL=main.dca5e71c.chunk.js.map