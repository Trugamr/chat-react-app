(this["webpackJsonpchat-react-app"]=this["webpackJsonpchat-react-app"]||[]).push([[0],{101:function(n,e,t){"use strict";t.r(e);var r=t(14),a=t(15),i=t(16),o=t(17),c=t(1),l=t.n(c),u=t(18),s=t(9),d=t(47),f=t.n(d),h=(t(85),t(3)),m=t(2);function p(){var n=Object(h.a)(["\n  height: 100%;\n  width: 100%;\n  display: grid;\n  grid-template-columns: minmax(260px, 25%) auto 25%;\n  background-color: ",";\n"]);return p=function(){return n},n}var g=m.c.div(p(),(function(n){return n.theme.bg}));function b(){var n=Object(h.a)(["\n  height: 100%;\n  width: 100%;\n  background-color: ",";\n  padding: 14px;\n\n  > :nth-child(n) {\n    margin-bottom: 16px;\n  }\n\n  > :last-child {\n    margin-bottom: 0px;\n  }\n"]);return b=function(){return n},n}var v=m.c.div(b(),(function(n){return n.theme.sidePanel.bg})),x=t(42),y=t(24),E=t(31),j=t(40),S=t.n(j);t(102),t(86),t(89),t(91),t(103);S.a.initializeApp({apiKey:"AIzaSyBKsHwiG5NuXxuvSN-7jZZLMDqqUDpIlbA",authDomain:"chat-react-app-9357c.firebaseapp.com",databaseURL:"https://chat-react-app-9357c.firebaseio.com",projectId:"chat-react-app-9357c",storageBucket:"chat-react-app-9357c.appspot.com",messagingSenderId:"700067181378",appId:"1:700067181378:web:a3b7eeb1503a2e1a728edb",measurementId:"G-NJ947Z6DGB"}),S.a.analytics();var w=S.a.auth(),O=S.a.firestore(),C=S.a.database(),k=S.a.storage(),T=S.a,R=function(n){return n.user},U=Object(s.a)([R],(function(n){return n.currentUser})),L=Object(s.a)([R],(function(n){return n.isLoading})),A=Object(s.a)([R],(function(n){return n.status})),_={SET_CURRENT_USER:"SET_CURRENT_USER",CLEAR_CURRENT_USER:"CLEAR_CURRENT_USER",SET_USER_IS_LOADING:"SET_USER_IS_LOADING",SET_USER_STATUS:"SET_USER_STATUS",SET_STARRED_CHANNELS:"SET_STARRED_CHANNELS"},P=function(n){return{type:_.SET_CURRENT_USER,payload:n}},N={SET_THEME:"SET_THEME"},B=Object(s.a)([function(n){return n.theme}],(function(n){return n.currentTheme}));function z(){var n=Object(h.a)(["\n  height: 12px;\n  width: 12px;\n  border-radius: 14px;\n  background-color: ",";\n"]);return z=function(){return n},n}function I(){var n=Object(h.a)(["\n  background-color: ",";\n  padding: 10px;\n  display: flex;\n  align-items: center;\n  border-radius: 6px;\n  justify-content: center;\n"]);return I=function(){return n},n}function D(){var n=Object(h.a)(["\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-gap: 6px;\n  grid-template-columns: repeat(3, 1fr);\n"]);return D=function(){return n},n}function M(){var n=Object(h.a)(["\n  max-height: ",";\n  width: 100%;\n  background-color: ",";\n  position: absolute;\n  z-index: 2;\n  top: 64px;\n  border-radius: 0px 0px 14px 14px;\n  transition: ease max-height 0.3s;\n  overflow: hidden;\n  padding: 0px 12px;\n\n  li {\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    padding: 8px;\n    margin-bottom: 3px;\n\n    :last-child {\n      border-radius: 0px 0px 6px 6px;\n      margin-bottom: 15px;\n    }\n\n    span {\n      color: ",";\n      font-family: 'archiaregular';\n      font-size: 14px;\n      margin-left: 6px;\n    }\n\n    &:hover {\n      background-color: ",";\n    }\n\n    &.status-box {\n      padding: 0px;\n\n      &:hover {\n        background-color: transparent;\n      }\n    }\n  }\n"]);return M=function(){return n},n}function F(){var n=Object(h.a)(["\n  margin-top: 12px;\n  height: 1px;\n  background-color: ",";\n  border: none;\n"]);return F=function(){return n},n}function H(){var n=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  svg {\n    width: 16px;\n    cursor: pointer;\n    transition: ease transform 0.2s;\n    transform: ",";\n  }\n"]);return H=function(){return n},n}function G(){var n=Object(h.a)(["\n  height: 12px;\n  width: 12px;\n  margin: auto 0px;\n  border-radius: 9999px;\n  background-color: ",";\n"]);return G=function(){return n},n}function W(){var n=Object(h.a)(["\n  display: flex;\n  align-items: center;\n\n  span {\n    color: ",";\n    font-family: 'archiaregular';\n    text-transform: capitalize;\n    margin-left: 5px;\n    font-size: 13px;\n  }\n"]);return W=function(){return n},n}function V(){var n=Object(h.a)(["\n  color: ",";\n  font-family: 'archiasemibold';\n  font-size: 16px;\n  margin-bottom: 4px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return V=function(){return n},n}function Y(){var n=Object(h.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 0px 10px;\n  width: 100%;\n  overflow: hidden;\n  white-space: nowrap;\n"]);return Y=function(){return n},n}function K(){var n=Object(h.a)(["\n  width: 52px;\n  height: 52px;\n  border: 8px;\n  border-radius: 12px;\n  background-color: white;\n  overflow: hidden;\n"]);return K=function(){return n},n}function q(){var n=Object(h.a)(["\n  display: grid;\n  grid-template-columns: 52px auto 20px;\n  padding: 12px;\n"]);return q=function(){return n},n}function Z(){var n=Object(h.a)(["\n  width: 100%;\n  height: 76px;\n  border-radius: 14px;\n  background-color: ",";\n  transition: ease max-height 0.4s;\n  position: relative;\n  /* max-height: ","; */\n"]);return Z=function(){return n},n}var J=m.c.div(Z(),(function(n){return n.theme.userStatusCard.bg}),(function(n){return n.opened?"76px":"200px"})),X=m.c.div(q()),$=m.c.div(K()),Q=m.c.div(Y()),nn=m.c.p(V(),(function(n){return n.theme.userStatusCard.text})),en=m.c.div(W(),(function(n){return n.theme.userStatusCard.subText})),tn=m.c.div(G(),(function(n){var e=n.theme.userStatusCard.statusColors,t=n.status;return"online"===t?e.online:"away"===t?e.away:e.offline})),rn=m.c.div(H(),(function(n){return n.opened?"rotate(180deg)":"rotate(0deg)"})),an=m.c.hr(F(),(function(n){return n.theme.userStatusCard.icon})),on=m.c.ul(M(),(function(n){return n.opened?"180px":"0px"}),(function(n){return n.theme.userStatusCard.bg}),(function(n){return n.theme.userStatusCard.subText}),(function(n){return n.theme.userStatusCard.optionBg})),cn=m.c.div(D()),ln=m.c.div(I(),(function(n){return n.theme.userStatusCard.icon})),un=m.c.div(z(),(function(n){var e=n.theme,t=n.name;return"online"===t?e.userStatusCard.statusColors.online:"offline"===t?e.userStatusCard.statusColors.offline:e.userStatusCard.statusColors.away})),sn=t(68);function dn(){var n=Object(h.a)(["\n  margin-left: 10px;\n  border: 2px solid transparent;\n  font-family: 'archiasemibold';\n  cursor: pointer;\n  outline: none;\n  border-radius: 8px;\n  padding: 6px;\n  min-width: 70px;\n  font-size: 15px;\n\n  &.close {\n    color: ",";\n    background-color: ",";\n    border: 2px solid ",";\n  }\n\n  &.confirm {\n    color: ",";\n    background-color: ",";\n  }\n"]);return dn=function(){return n},n}function fn(){var n=Object(h.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 10px;\n"]);return fn=function(){return n},n}function hn(){var n=Object(h.a)(["\n  width: 100%;\n  display: grid;\n  grid-template-columns: auto 80px 0px;\n\n  label {\n    font-family: 'archiasemibold';\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 6px 12px;\n    font-size: 16px;\n    height: 100%;\n    width: 100%;\n    cursor: pointer;\n    border-radius: 0px 8px 8px 0px;\n    color: ",";\n    background-color: ",";\n  }\n\n  span {\n    min-width: 160px;\n    padding: 8px;\n    border: 0px;\n    background-color: ",";\n    color: ",";\n    border-radius: 8px;\n    font-family: 'archiaregular';\n    font-size: 16px;\n  }\n\n  input {\n    width: 0.1px;\n    height: 0.1px;\n    opacity: 0;\n    overflow: hidden;\n    position: absolute;\n    z-index: -1;\n\n    &:focus {\n      outline: none;\n    }\n\n    &::placeholder {\n      color: ",";\n    }\n  }\n"]);return hn=function(){return n},n}function mn(){var n=Object(h.a)(["\n  display: grid;\n  grid-gap: 10px;\n"]);return mn=function(){return n},n}function pn(){var n=Object(h.a)(["\n  display: grid;\n  grid-template-rows: auto 30px;\n  justify-content: center;\n  align-items: center;\n\n  input {\n    margin-top: 10px;\n    -webkit-appearance: none;\n    appearance: none;\n    width: 100%;\n    height: 8px;\n    background-color: ",";\n    outline: none;\n\n    &::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      appearance: none;\n      width: 14px;\n      height: 14px;\n      border-radius: 10px;\n      background-color: ",";\n      cursor: pointer;\n    }\n  }\n"]);return pn=function(){return n},n}function gn(){var n=Object(h.a)(["\n  color: ",";\n  font-size: 20px;\n  font-family: 'archiasemibold';\n"]);return gn=function(){return n},n}function bn(){var n=Object(h.a)(["\n  padding: 20px;\n  border-radius: 12px;\n  visibility: hidden;\n  background: ",";\n  display: grid;\n  grid-gap: 16px;\n\n  ","\n"]);return bn=function(){return n},n}function vn(){var n=Object(h.a)(["\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  left: 0;\n  position: fixed;\n  z-index: 10;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  visibility: hidden;\n\n  ","\n"]);return vn=function(){return n},n}function xn(){var n=Object(h.a)(["\n  @keyframes scaleIn {\n    from {\n      opacity: 0;\n      transform: scale(0.5);\n    }\n    to {\n      visibility: visible;\n      opacity: 1;\n      transform: scale(1);\n    }\n  }\n\n  @keyframes scaleOut {\n    from {\n      visibility: ",";\n    }\n    to {\n      visibility: hidden;\n      opacity: 0;\n    }\n  }\n\n  animation-name: ",";\n  animation-duration: 500ms;\n  animation-timing-function: cubic-bezier(0.19, 0.67, 0.01, 1.3);\n  animation-fill-mode: forwards;\n"]);return xn=function(){return n},n}function yn(){var n=Object(h.a)(["\n  @keyframes opacityIn {\n    from {\n      background-color: transparent;\n    }\n    to {\n      visibility: visible;\n      background-color: ",";\n    }\n  }\n\n  @keyframes opacityOut {\n    from {\n      background-color: ",";\n      /* at start showing is false so in \n      order to avoit flicker issue visibility is set dynamically */\n      visibility: ",";\n    }\n    to {\n      visibility: hidden;\n      background-color: transparent;\n    }\n  }\n\n  animation-name: ",";\n  animation-duration: 500ms;\n  animation-timing-function: ease-in-out;\n  animation-fill-mode: forwards;\n"]);return yn=function(){return n},n}var En=Object(m.b)(yn(),(function(n){return n.theme.userStatusCard.modal.bg}),(function(n){return n.theme.userStatusCard.modal.bg}),(function(n){return n.showing?"visible":"hidden"}),(function(n){return n.showing?"opacityIn":"opacityOut"})),jn=Object(m.b)(xn(),(function(n){return n.showing?"visible":"hidden"}),(function(n){return n.showing?"scaleIn":"scaleOut"})),Sn=m.c.div(vn(),En),wn=m.c.form(bn(),(function(n){return n.theme.userStatusCard.modal.modalBg}),jn),On=m.c.h2(gn(),(function(n){return n.theme.userStatusCard.modal.textPrimary})),Cn=m.c.div(pn(),(function(n){return n.theme.userStatusCard.modal.bg}),(function(n){return n.theme.userStatusCard.modal.textPrimary})),kn=m.c.div(mn()),Tn=m.c.div(hn(),(function(n){return n.theme.userStatusCard.modal.textSecondary}),(function(n){return n.theme.userStatusCard.modal.textPrimary}),(function(n){return n.theme.userStatusCard.modal.bg}),(function(n){return n.theme.userStatusCard.modal.textPrimary}),(function(n){return n.theme.userStatusCard.modal.textPrimary})),Rn=m.c.div(fn()),Un=m.c.button(dn(),(function(n){return n.theme.userStatusCard.modal.textPrimary}),(function(n){return n.theme.userStatusCard.modal.textSecondary}),(function(n){return n.theme.userStatusCard.modal.textPrimary}),(function(n){return n.theme.userStatusCard.modal.textSecondary}),(function(n){return n.theme.userStatusCard.modal.textPrimary})),Ln=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={avatarImage:null,avatarImageData:null,scale:120},n.handlePropogation=function(n){n.stopPropagation()},n.handleSubmit=function(e){e.preventDefault();var t=n.props.confirm;n.avatarEditor&&n.avatarEditor.getImageScaledToCanvas().toBlob((function(n){t(n)}))},n.handleChange=function(e){var t=e.target.files,r=t&&t.length?t[0]:null,a=new FileReader;r&&(a.readAsDataURL(r),a.addEventListener("load",(function(){n.setState({avatarImage:r,avatarImageData:a.result})})))},n.setScale=function(e){var t=e.target.value;n.setState({scale:t})},n.setEditorRef=function(e){return n.avatarEditor=e},n}return Object(a.a)(t,[{key:"render",value:function(){var n=this.state,e=n.avatarImage,t=n.avatarImageData,r=n.scale,a=this.props,i=a.showing,o=a.close;return l.a.createElement(Sn,{showing:i,onClick:o},l.a.createElement(wn,{onClick:this.handlePropogation,onSubmit:this.handleSubmit,showing:i},l.a.createElement(On,null,"Upload an image"),t?l.a.createElement(Cn,null,l.a.createElement(sn.a,{ref:this.setEditorRef,image:t,scale:r/100,onImageChange:this.onImageCrop}),l.a.createElement("input",{type:"range",min:"100",max:"200",value:this.state.scale,onChange:this.setScale})):null,l.a.createElement(kn,null,l.a.createElement(Tn,null,l.a.createElement("span",null,e?e.name:"select a file"),l.a.createElement("label",{htmlFor:"avatarImage"},"choose"),l.a.createElement("input",{type:"file",name:"avatarImage",id:"avatarImage",accept:"image/*",onChange:this.handleChange}))),l.a.createElement(Rn,null,l.a.createElement(Un,{className:"close",type:"button",onClick:o},"CANCEL"),l.a.createElement(Un,{className:"confirm",type:"submit"},"UPLOAD"))))}}]),t}(l.a.Component),An=function(n){var e=Object(m.d)();return l.a.createElement("svg",Object.assign({},n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 18"}),l.a.createElement("path",{fill:e.userStatusCard.icon,d:"M0 3c-1-1 1-3 2-3h20c2 0 3 2 2 3L14 17a3 3 0 01-4 0L0 3z"}))},_n=Object(s.b)({currentUser:U,status:A,currentTheme:B}),Pn=Object(u.b)(_n,(function(n){return{setUserStatus:function(e){return n(function(n){return{type:_.SET_USER_STATUS,payload:n}}(e))},setCurrentUser:function(e){return n(P(e))},setTheme:function(e){return n(function(n){return{type:N.SET_THEME,payload:n}}(e))}}}))((function(n){var e=n.currentUser,t=n.status,r=n.setUserStatus,a=(n.setCurrentUser,n.currentTheme),i=n.setTheme,o=Object(m.d)(),u=Object(c.useState)(!1),s=Object(x.a)(u,2),d=s[0],f=s[1],h=Object(c.useState)(!1),p=Object(x.a)(h,2),g=p[0],b=p[1],v=Object(c.useState)(!1),j=Object(x.a)(v,2),S=j[0],O=j[1],T=function(n){b(!1),C.ref("presence").child(e.uid).set(n,(function(e){r(n),e&&console.error(e)}))},R=function(n){k.ref().child("avatars/user-".concat(e.uid)).put(n,{contentType:"image/jpeg"}).then((function(n){n.ref.getDownloadURL().then((function(n){window.location.reload()}))}))},U=e.displayName,L=e.photoURL;return l.a.createElement(J,{opened:d},l.a.createElement(Ln,{showing:S,close:function(){O(!1)},confirm:function(n){R(n),O(!1)}}),l.a.createElement(X,null,l.a.createElement($,null,l.a.createElement("img",{src:L,alt:"user avatar"})),l.a.createElement(Q,null,l.a.createElement(nn,null,U),l.a.createElement(en,null,l.a.createElement(tn,{status:t})," ",l.a.createElement("span",null,t))),l.a.createElement(rn,{opened:d},l.a.createElement(An,{onClick:function(){return f(!d)}}))),l.a.createElement(on,{opened:d},l.a.createElement(an,null),g?null:l.a.createElement("li",{onClick:function(){return b(!0)}},l.a.createElement(y.a,{color:o.userStatusCard.icon}),l.a.createElement("span",null,"set status")),g?l.a.createElement("li",{className:"status-box"},l.a.createElement(cn,null,l.a.createElement(ln,{name:"online",onClick:function(){return T("online")}},l.a.createElement(un,{name:"online"})),l.a.createElement(ln,{name:"away",onClick:function(){return T("away")}},l.a.createElement(un,{name:"away"})),l.a.createElement(ln,{name:"offline",onClick:function(){return T("offline")}},l.a.createElement(un,{name:"offline"})))):null,l.a.createElement("li",{onClick:function(){return O(!0)}},l.a.createElement(y.j,{color:o.userStatusCard.icon}),l.a.createElement("span",null,"change avatar")),l.a.createElement("li",{onClick:function(){"light"===a.name?i("dark"):i("light")}},"light"===a.name?l.a.createElement(l.a.Fragment,null,l.a.createElement(y.c,{color:o.userStatusCard.icon}),l.a.createElement("span",null,"toggle theme")):l.a.createElement(l.a.Fragment,null,l.a.createElement(y.h,{color:o.userStatusCard.icon}),l.a.createElement("span",null,"toggle theme"))),l.a.createElement("li",{onClick:function(){w.signOut().then((function(n){console.log("signed out ")}))}},l.a.createElement(E.c,{color:o.userStatusCard.icon}),l.a.createElement("span",null,"log out"))))})),Nn={SET_CHANNELS:"SET_CHANNELS",SET_CURRENT_CHANNEL:"SET_CURRENT_CHANNEL",UPDATE_CHANNEL_MEMBERS:"UPDATE_CHANNEL_MEMBERS",SET_MESSAGE_SEARCH_FILTERS:"SET_MESSAGE_SEARCH_FILTERS",SET_PRIVATE_CHANNEL:"SET_PRIVATE_CHANNEL",SET_OTHER_USERS_STATUS:"SET_OTHER_USERS_STATUS",SET_STARRED_CHANNELS:"SET_STARRED_CHANNELS"},Bn=function(n){return{type:Nn.SET_CHANNELS,payload:n}},zn=function(n){return{type:Nn.SET_CURRENT_CHANNEL,payload:n}},In=function(n){return{type:Nn.SET_PRIVATE_CHANNEL,payload:n}},Dn=function(n){return n.chat},Mn=Object(s.a)([Dn],(function(n){return n.channels})),Fn=Object(s.a)([Dn],(function(n){return n.currentChannel})),Hn=Object(s.a)([Dn],(function(n){return n.channelMembers})),Gn=Object(s.a)([Dn],(function(n){return n.messageSearchFilters})),Wn=Object(s.a)([Dn],(function(n){return n.isPrivateChannel})),Vn=Object(s.a)([Dn],(function(n){return n.otherUsersStatus}));Object(s.a)([Dn],(function(n){return n.starredChannels}));function Yn(){var n=Object(h.a)(["\n  width: 100%;\n  text-align: center;\n  padding: 10px;\n  font-family: 'archiaregular';\n  font-size: 15px;\n  color: ",";\n  opacity: 0.9;\n"]);return Yn=function(){return n},n}function Kn(){var n=Object(h.a)(["\n  font-family: 'archiasemibold';\n  font-size: 16px;\n  color: ",";\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 8px;\n  background-color: ",";\n  opacity: ",";\n\n  margin-bottom: 4px;\n\n  :last-child {\n    margin-bottom: 0px;\n  }\n\n  &:hover {\n    background-color: ",";\n  }\n"]);return Kn=function(){return n},n}function qn(){var n=Object(h.a)(["\n  margin-top: 10px;\n"]);return qn=function(){return n},n}function Zn(){var n=Object(h.a)(["\n  font-family: 'archiasemibold';\n  font-size: 17px;\n  color: ",";\n  display: grid;\n  grid-template-columns: auto 20px;\n\n  svg {\n    justify-self: center;\n    align-self: center;\n  }\n"]);return Zn=function(){return n},n}function Jn(){var n=Object(h.a)(["\n  width: 100%;\n  height: auto;\n  border-radius: 14px;\n  padding: 18px;\n  background-color: ",";\n"]);return Jn=function(){return n},n}var Xn=m.c.div(Jn(),(function(n){return n.theme.starred.bg})),$n=m.c.div(Zn(),(function(n){return n.theme.starred.text})),Qn=m.c.ul(qn()),ne=m.c.li(Kn(),(function(n){return n.theme.starred.text}),(function(n){var e=n.selected,t=n.theme;return e?t.starred.hover:"transparent"}),(function(n){return n.selected?1:.8}),(function(n){return n.theme.starred.hover})),ee=m.c.p(Yn(),(function(n){return n.theme.starred.text})),te=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).setActiveChannel=function(e){n.setState({activeChannel:e.id})},n.changeChannel=function(e){var t=n.props,r=t.setCurrentChannel,a=t.setPrivateChannel;r(e),a(!1),n.setActiveChannel(e)},n.getStarredChannels=function(){var e=n.props.channels;return n.props.channels?e.filter((function(n){return n.starred})):[]},n}return Object(a.a)(t,[{key:"render",value:function(){var n=this.props,e=n.setCurrentChannel,t=n.currentChannel,r=n.isPrivateChannel;return l.a.createElement(Xn,null,l.a.createElement($n,null,l.a.createElement("span",null,"STARRED"),l.a.createElement(y.g,{onClick:this.openModal,style:{alignSelf:"flex-end"},size:20})),this.getStarredChannels().length?null:l.a.createElement(ee,{key:"placeholder-text"},"Your favourite channels will show up here."),l.a.createElement(Qn,null,this.getStarredChannels().map((function(n){var a=n.id,i=n.name;return l.a.createElement(ne,{key:a,onClick:function(){return e(n)},selected:!r&&n.id===t.id},"# ",i)}))))}}]),t}(l.a.Component),re=Object(s.b)({channels:Mn,currentChannel:Fn,isPrivateChannel:Wn}),ae=Object(u.b)(re,(function(n){return{setCurrentChannel:function(e){return n(zn(e))},setPrivateChannel:function(e){return n(In(e))}}}))(te),ie=t(46),oe=t(25),ce=t(13);function le(){var n=Object(h.a)(["\n  margin-left: 10px;\n  border: 2px solid transparent;\n  font-family: 'archiasemibold';\n  cursor: pointer;\n  outline: none;\n  border-radius: 8px;\n  padding: 6px;\n  min-width: 70px;\n  font-size: 15px;\n\n  &.close {\n    color: ",";\n    background-color: ",";\n    border: 2px solid ",";\n  }\n\n  &.confirm {\n    color: ",";\n    background-color: ",";\n  }\n"]);return le=function(){return n},n}function ue(){var n=Object(h.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 10px;\n"]);return ue=function(){return n},n}function se(){var n=Object(h.a)(["\n  width: 100%;\n  display: grid;\n  grid-template-columns: 80px auto;\n\n  span {\n    font-family: 'archiasemibold';\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 6px 12px;\n    font-size: 16px;\n    height: 100%;\n    width: 100%;\n    border-radius: 8px 0px 0px 8px;\n    color: ",";\n    background-color: ",";\n  }\n\n  input {\n    padding: 8px;\n    border: 0px;\n    background-color: ",";\n    color: ",";\n    border-radius: 8px;\n    font-family: 'archiaregular';\n    font-size: 16px;\n\n    &:focus {\n      outline: none;\n    }\n\n    &::placeholder {\n      color: ",";\n    }\n  }\n"]);return se=function(){return n},n}function de(){var n=Object(h.a)(["\n  display: grid;\n  grid-gap: 10px;\n"]);return de=function(){return n},n}function fe(){var n=Object(h.a)(["\n  color: ",";\n  font-size: 20px;\n  font-family: 'archiasemibold';\n"]);return fe=function(){return n},n}function he(){var n=Object(h.a)(["\n  padding: 20px;\n  border-radius: 12px;\n  visibility: hidden;\n  background: ",";\n  display: grid;\n  grid-gap: 16px;\n\n  ","\n"]);return he=function(){return n},n}function me(){var n=Object(h.a)(["\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  left: 0;\n  position: fixed;\n  z-index: 10;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  visibility: hidden;\n\n  ","\n"]);return me=function(){return n},n}function pe(){var n=Object(h.a)(["\n  @keyframes scaleIn {\n    from {\n      opacity: 0;\n      transform: scale(0.5);\n    }\n    to {\n      visibility: visible;\n      opacity: 1;\n      transform: scale(1);\n    }\n  }\n\n  @keyframes scaleOut {\n    from {\n      visibility: ",";\n    }\n    to {\n      visibility: hidden;\n      opacity: 0;\n    }\n  }\n\n  animation-name: ",";\n  animation-duration: 500ms;\n  animation-timing-function: cubic-bezier(0.19, 0.67, 0.01, 1.3);\n  animation-fill-mode: forwards;\n"]);return pe=function(){return n},n}function ge(){var n=Object(h.a)(["\n  @keyframes opacityIn {\n    from {\n      background-color: transparent;\n    }\n    to {\n      visibility: visible;\n      background-color: ",";\n    }\n  }\n\n  @keyframes opacityOut {\n    from {\n      background-color: ",";\n      /* at start showing is false so in \n      order to avoit flicker issue visibility is set dynamically */\n      visibility: ",";\n    }\n    to {\n      visibility: hidden;\n      background-color: transparent;\n    }\n  }\n\n  animation-name: ",";\n  animation-duration: 500ms;\n  animation-timing-function: ease-in-out;\n  animation-fill-mode: forwards;\n"]);return ge=function(){return n},n}var be=Object(m.b)(ge(),(function(n){return n.theme.channels.modal.bg}),(function(n){return n.theme.channels.modal.bg}),(function(n){return n.showing?"visible":"hidden"}),(function(n){return n.showing?"opacityIn":"opacityOut"})),ve=Object(m.b)(pe(),(function(n){return n.showing?"visible":"hidden"}),(function(n){return n.showing?"scaleIn":"scaleOut"})),xe=m.c.div(me(),be),ye=m.c.form(he(),(function(n){return n.theme.channels.modal.modalBg}),ve),Ee=m.c.h2(fe(),(function(n){return n.theme.channels.modal.textPrimary})),je=m.c.div(de()),Se=m.c.div(se(),(function(n){return n.theme.channels.modal.textSecondary}),(function(n){return n.theme.channels.modal.textPrimary}),(function(n){return n.theme.channels.modal.bg}),(function(n){return n.theme.channels.modal.textPrimary}),(function(n){return n.theme.channels.modal.textPrimary})),we=m.c.div(ue()),Oe=m.c.button(le(),(function(n){return n.theme.channels.modal.textPrimary}),(function(n){return n.theme.channels.modal.textSecondary}),(function(n){return n.theme.channels.modal.textPrimary}),(function(n){return n.theme.channels.modal.textSecondary}),(function(n){return n.theme.channels.modal.textPrimary})),Ce=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={name:"",about:""},n.handlePropogation=function(n){n.stopPropagation()},n.formattedValue=function(n){return(n=n.replace(" ","-").replace("--","-").toLowerCase()).startsWith("-")&&(n=""),n},n.handleChange=function(e){var t=e.target,r=t.name,a=t.value;"name"===r&&(a=n.formattedValue(a)),n.setState(Object(oe.a)({},r,a))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,r=t.name,a=t.about;r=r.endsWith("-")?r.substring(0,r.length-1):r,(0,n.props.confirm)({name:r,about:a})},n}return Object(a.a)(t,[{key:"render",value:function(){var n=this.props,e=n.showing,t=n.close,r=this.state,a=r.name,i=r.about;return l.a.createElement(xe,{showing:e,onClick:t},l.a.createElement(ye,{onClick:this.handlePropogation,onSubmit:this.handleSubmit,showing:e},l.a.createElement(Ee,null,"Add a channel"),l.a.createElement(je,null,l.a.createElement(Se,null,l.a.createElement("span",null,"name"),l.a.createElement("input",{type:"text",name:"name",value:a,placeholder:"channel-name",onChange:this.handleChange})),l.a.createElement(Se,null,l.a.createElement("span",null,"about"),l.a.createElement("input",{type:"text",name:"about",value:i,placeholder:"description",onChange:this.handleChange}))),l.a.createElement(we,null,l.a.createElement(Oe,{className:"close",type:"button",onClick:t},"CANCEL"),l.a.createElement(Oe,{className:"confirm",type:"submit"},"ADD"))))}}]),t}(l.a.Component),ke=t(35);function Te(){var n=Object(h.a)(["\n  font-family: 'archiasemibold';\n  color: ",";\n  font-size: ",";\n  padding: 20px;\n"]);return Te=function(){return n},n}function Re(){var n=Object(h.a)(["\n  @keyframes spin {\n    from {\n      transform: rotate(-45deg);\n    }\n    to {\n      transform: rotate(315deg);\n    }\n  }\n\n  height: ",";\n  width: ",";\n  border: 8px solid ",";\n  border-right: 8px Solid ",";\n  border-radius: 9999px;\n  animation: linear spin 1.2s infinite;\n"]);return Re=function(){return n},n}function Ue(){var n=Object(h.a)(["\n  width: 100%;\n  height: 100%;\n  background: ",";\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return Ue=function(){return n},n}var Le=m.c.div(Ue(),(function(n){return n.theme.spinner.bg})),Ae=m.c.div(Re(),(function(n){return n.size}),(function(n){return n.size}),(function(n){var e=n.theme;return n.color||e.spinner.loaderFg}),(function(n){return n.theme.spinner.loaderBg})),_e=m.c.p(Te(),(function(n){return n.theme.spinner.text}),(function(n){return n.fontSize})),Pe=function(n){var e=n.loadingText,t=n.size,r=void 0===t?"50px":t,a=n.fontSize,i=void 0===a?"16px":a,o=Object(ke.a)(n,["loadingText","size","fontSize"]);return l.a.createElement(Le,o,l.a.createElement(Ae,{size:r}),e?l.a.createElement(_e,{fontSize:i},e):"")};function Ne(){var n=Object(h.a)(["\n  font-family: 'archiasemibold';\n  background-color: ",";\n  color: ",";\n  padding: 2px 4px;\n  font-size: 13px;\n  border-radius: 6px;\n  justify-self: flex-end;\n"]);return Ne=function(){return n},n}function Be(){var n=Object(h.a)(["\n  font-family: 'archiasemibold';\n  font-size: 16px;\n  color: ",";\n  flex: 1 0;\n"]);return Be=function(){return n},n}function ze(){var n=Object(h.a)(["\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n\n  background-color: ",";\n  opacity: ",";\n\n  margin-bottom: 4px;\n\n  :last-child {\n    margin-bottom: 0px;\n  }\n\n  &:hover {\n    background-color: ",";\n  }\n"]);return ze=function(){return n},n}function Ie(){var n=Object(h.a)(["\n  margin-top: 10px;\n"]);return Ie=function(){return n},n}function De(){var n=Object(h.a)(["\n  font-family: 'archiasemibold';\n  font-size: 17px;\n  color: ",";\n  display: grid;\n  grid-template-columns: auto 20px;\n\n  svg {\n    justify-self: center;\n    align-self: center;\n    cursor: pointer;\n  }\n"]);return De=function(){return n},n}function Me(){var n=Object(h.a)(["\n  width: 100%;\n  height: auto;\n  border-radius: 14px;\n  padding: 18px;\n  background-color: ",";\n"]);return Me=function(){return n},n}var Fe=m.c.div(Me(),(function(n){return n.theme.channels.bg})),He=m.c.div(De(),(function(n){return n.theme.channels.text})),Ge=m.c.ul(Ie()),We=m.c.li(ze(),(function(n){var e=n.selected,t=n.theme;return e?t.channels.hover:"transparent"}),(function(n){return n.selected?1:.8}),(function(n){return n.theme.channels.hover})),Ve=m.c.p(Be(),(function(n){return n.theme.channels.text})),Ye=m.c.span(Ne(),(function(n){return n.theme.channels.notificationsBg}),(function(n){return n.theme.channels.notificationsFg})),Ke=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={channel:null,channelName:"",channelDetails:"",channelsRef:O.collection("channels"),typingRef:C.ref("typing"),unsubscribeChannelListener:null,notificationListeners:{},notifications:[],modal:!1,firstLoad:!0,activeChannel:null},n.addListeners=function(){var e=n.state.channelsRef,t=n.props.setChannels,r=e.orderBy("createdAt","asc").onSnapshot((function(e){var r=e.docs.map((function(n){return n.data()}));t(r),r.forEach((function(e){return n.addNotificationListener(e.id)}))}));n.setState({unsubscribeChannelListener:r})},n.addNotificationListener=function(e){var t=n.state.channelsRef.doc(e).collection("messages").onSnapshot((function(t){n.state.channel&&n.handleNotifications(e,n.state.channel.id,n.state.notifications,t)}));n.setState((function(n){var r=n.notificationListeners;return{notificationListeners:Object(ce.a)({},r,Object(oe.a)({},e,t))}}))},n.handleNotifications=function(e,t,r,a){var i=0,o=r.findIndex((function(n){return n.id===e}));-1!==o?e!==t&&(i=r[o].lastKnownTotal,a.docs.length-i>0&&(r[o].count=a.docs.length-i,r[o].total=a.docs.length)):r.push({id:e,total:a.docs.length,lastKnownTotal:a.docs.length,count:0}),n.setState({notifications:r})},n.removeListeners=function(){(0,n.state.unsubscribeChannelListener)();var e=n.state.notificationListeners;Object.keys(e).forEach((function(n){e[n]()}))},n.setFirstChannel=function(){var e=n.state.firstLoad,t=n.props,r=t.setCurrentChannel,a=t.channels;e&&a.length&&(r(a[0]),n.setActiveChannel(a[0]),n.setState({firstLoad:!1,channel:a[0]}))},n.addChannel=function(e){var t=e.name,r=e.about,a=n.state.channelsRef,i=n.props.currentUser,o=a.doc(),c={id:o.id,name:t,details:r,createdBy:{name:i.displayName,avatar:i.photoURL,uid:i.uid},createdAt:T.firestore.FieldValue.serverTimestamp()};a.doc(o.id).set(c).then((function(){n.setState({channelName:"",channelDetails:"",modal:!1}),console.log("channel created")})).catch((function(n){console.error(n)}))},n.handleClose=function(){n.setState({modal:!1})},n.handleConfirm=function(e){var t=e.name,r=e.about;n.setState({channelName:t,channelDetails:r}),t&&r&&n.addChannel({name:t,about:r})},n.openModal=function(){n.setState({modal:!0})},n.setActiveChannel=function(e){n.setState({activeChannel:e.id})},n.changeChannel=function(e){var t=n.state.typingRef,r=n.props,a=r.setCurrentChannel,i=r.setPrivateChannel,o=r.currentUser,c=r.currentChannel;t.child(c.id).child(o.uid).remove(),a(e),i(!1),n.setActiveChannel(e),n.setState({channel:e},(function(){return n.clearNotifications()}))},n.clearNotifications=function(){var e=n.state.notifications.findIndex((function(e){return e.id===n.state.channel.id}));if(-1!==e){var t=Object(ie.a)(n.state.notifications);t[e].lastKnownTotal=n.state.notifications[e].total,t[e].count=0,n.setState({notifications:t})}},n.getNotificationCount=function(e){var t=0;return n.state.notifications.forEach((function(n){n.id===e.id&&(t=n.count)})),t},n}return Object(a.a)(t,[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentDidUpdate",value:function(){this.props.channels&&this.setFirstChannel()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){var n=this,e=this.state,t=e.modal,r=e.firstLoad,a=this.props,i=a.isPrivateChannel,o=a.currentChannel,c=a.channels;return l.a.createElement(Fe,null,l.a.createElement(Ce,{close:this.handleClose,confirm:this.handleConfirm,showing:t}),l.a.createElement(He,null,l.a.createElement("span",null,"CHANNELS"),l.a.createElement(y.d,{onClick:this.openModal,style:{alignSelf:"flex-end"},size:20})),r?l.a.createElement(Pe,{style:{backgroundColor:"transparent",marginTop:20},size:"40px"}):l.a.createElement(Ge,null,c.map((function(e){var t=e.id,r=e.name;return l.a.createElement(We,{key:t,selected:e.id===o.id&&!i,onClick:function(){return n.changeChannel(e)}},l.a.createElement(Ve,null,"# ",r)," ",n.getNotificationCount(e)?l.a.createElement(Ye,null,n.getNotificationCount(e)):null)}))))}}]),t}(l.a.Component),qe=Object(s.b)({currentUser:U,channels:Mn,currentChannel:Fn,isPrivateChannel:Wn}),Ze=Object(u.b)(qe,(function(n){return{setChannels:function(e){return n(Bn(e))},setCurrentChannel:function(e){return n(zn(e))},setPrivateChannel:function(e){return n(In(e))}}}))(Ke);function Je(){var n=Object(h.a)(["\n  width: 10px;\n  height: 10px;\n  border-radius: 10px;\n\n  background-color: ",";\n"]);return Je=function(){return n},n}function Xe(){var n=Object(h.a)(["\n  display: flex;\n  align-items: center;\n\n  p {\n    font-family: 'archiasemibold';\n    font-size: 16px;\n    color: ",";\n    margin-left: 6px;\n  }\n"]);return Xe=function(){return n},n}function $e(){var n=Object(h.a)(["\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 8px;\n  background-color: ",";\n  opacity: ",";\n\n  margin-bottom: 4px;\n\n  :last-child {\n    margin-bottom: 0px;\n  }\n\n  &:hover {\n    background-color: ",";\n  }\n"]);return $e=function(){return n},n}function Qe(){var n=Object(h.a)(["\n  margin-top: 10px;\n"]);return Qe=function(){return n},n}function nt(){var n=Object(h.a)(["\n  font-family: 'archiasemibold';\n  font-size: 17px;\n  color: ",";\n  display: grid;\n  grid-template-columns: auto 20px;\n\n  svg {\n    justify-self: center;\n    align-self: center;\n    cursor: pointer;\n  }\n"]);return nt=function(){return n},n}function et(){var n=Object(h.a)(["\n  width: 100%;\n  height: auto;\n  border-radius: 14px;\n  padding: 18px;\n  background-color: ",";\n"]);return et=function(){return n},n}var tt=m.c.div(et(),(function(n){return n.theme.directMessages.bg})),rt=m.c.div(nt(),(function(n){return n.theme.directMessages.text})),at=m.c.ul(Qe()),it=m.c.li($e(),(function(n){var e=n.selected,t=n.theme;return e?t.directMessages.hover:"transparent"}),(function(n){return n.selected?1:.8}),(function(n){return n.theme.directMessages.hover})),ot=m.c.div(Xe(),(function(n){return n.theme.directMessages.text})),ct=m.c.div(Je(),(function(n){var e=n.theme,t=n.status,r=e.directMessages;return"online"===t?r.status.online:"away"===t?r.status.away:r.status.offline})),lt=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={users:[],usersListener:null,connectedRef:C.ref(".info/connected"),presenceRef:C.ref("presence"),activeChannel:null},n.addListeners=function(e){var t=n.state,r=t.connectedRef,a=t.presenceRef,i=n.props.userStatus,o=O.collection("users").onSnapshot((function(t){var r=t.docs.filter((function(n){return n.id!==e})).map((function(n){return Object(ce.a)({},n.data(),{uid:n.id,status:"offline"})}));n.setState({users:r},n.updateUsersStatus)}));n.setState({usersListener:o}),r.on("value",(function(n){if(n.val()){var t=a.child(e);t.set(i),t.onDisconnect().set("offline")}}))},n.removeListeners=function(){var e=n.state,t=e.usersListener,r=e.connectedRef,a=e.presenceRef,i=n.props.currentUser;t(),r.off(),a.child(i.uid).set("offline"),a.off()},n.updateUsersStatus=function(){var e=n.state.presenceRef,t=n.props.setOtherUsersStatus;e.on("value",(function(e){var r=e.val();t(r),Object.keys(r).forEach((function(e){n.addStatusToUser(e,r[e])}))}))},n.addStatusToUser=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"online",r=n.state.users,a=r.reduce((function(n,r){return r.uid===e&&(r.status=t),n.concat(r)}),[]);n.setState({users:a})},n.changeChannel=function(e){var t=n.props,r=t.setCurrentChannel,a=t.setPrivateChannel,i=n.getChannelId(e.uid);r({id:i,name:e.name,uid:e.uid,type:"direct"}),a(!0),n.setActiveChannel(i)},n.getChannelId=function(e){var t=n.props.currentUser.uid;return e<t?"".concat(e,"/").concat(t):"".concat(t,"/").concat(e)},n.setActiveChannel=function(e){n.setState({activeChannel:e})},n}return Object(a.a)(t,[{key:"componentDidMount",value:function(){var n=this.props.currentUser;n&&this.addListeners(n.uid)}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){var n=this,e=this.state,t=e.users,r=e.activeChannel,a=this.props.isPrivateChannel;return l.a.createElement(tt,null,l.a.createElement(rt,null,l.a.createElement("span",null,"DIRECT MESSAGES"),l.a.createElement(E.d,{onClick:this.openModal,style:{alignSelf:"flex-end"},size:20})),t.length?l.a.createElement(at,null,t.map((function(e){var t=e.uid,i=e.name,o=e.status,c=void 0===o?"offline":o;return l.a.createElement(it,{key:t,selected:r===n.getChannelId(t)&&a},l.a.createElement(ot,{onClick:function(){return n.changeChannel(e)}},l.a.createElement(ct,{status:c})," ",l.a.createElement("p",null,i)))}))):l.a.createElement(Pe,{style:{backgroundColor:"transparent",marginTop:20},size:"40px"}))}}]),t}(l.a.Component),ut=Object(s.b)({currentUser:U,userStatus:A,isPrivateChannel:Wn}),st=Object(u.b)(ut,(function(n){return{setCurrentChannel:function(e){return n(zn(e))},setPrivateChannel:function(e){return n(In(e))},setOtherUsersStatus:function(e){return n({type:Nn.SET_OTHER_USERS_STATUS,payload:e})}}}))(lt),dt=function(){return l.a.createElement(v,null,l.a.createElement(Pn,null),l.a.createElement(ae,null),l.a.createElement(Ze,null),l.a.createElement(st,null))};function ft(){var n=Object(h.a)(["\n  width: 100%;\n  min-height: 100%;\n  padding: 14px;\n  display: grid;\n  grid-gap: 14px;\n  grid-template-rows: 120px auto 60px;\n"]);return ft=function(){return n},n}var ht=m.c.div(ft());function mt(){var n=Object(h.a)(["\n  margin-left: 5px;\n  text-transform: capitalize;\n  opacity: 0.8;\n"]);return mt=function(){return n},n}function pt(){var n=Object(h.a)(["\n  width: 10px;\n  height: 10px;\n  border-radius: 10px;\n\n  background-color: ",";\n"]);return pt=function(){return n},n}function gt(){var n=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 6px;\n  margin-left: 6px;\n"]);return gt=function(){return n},n}function bt(){var n=Object(h.a)(["\n  color: ",";\n  background-color: ",";\n  border-radius: 14px;\n  border: none;\n  font-size: 15px;\n  font-family: 'archiaregular';\n  width: 100%;\n  height: 100%;\n  padding: 16px 34px 16px 14px;\n\n  &::placeholder {\n    color: ",";\n  }\n\n  &:focus {\n    outline: none;\n  }\n"]);return bt=function(){return n},n}function vt(){var n=Object(h.a)(["\n  position: relative;\n  width: 100%;\n  height: 46px;\n\n  svg {\n    color: ",";\n    position: absolute;\n    right: 12px;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n    cursor: pointer;\n  }\n"]);return vt=function(){return n},n}function xt(){var n=Object(h.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return xt=function(){return n},n}function yt(){var n=Object(h.a)(["\n  font-size: 14px;\n"]);return yt=function(){return n},n}function Et(){var n=Object(h.a)(["\n  margin-top: 12px;\n  margin-bottom: 2px;\n  opacity: 0.8;\n"]);return Et=function(){return n},n}function jt(){var n=Object(h.a)(["\n  font-size: 30px;\n\n  svg {\n    color: ",";\n    cursor: pointer;\n  }\n"]);return jt=function(){return n},n}function St(){var n=Object(h.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return St=function(){return n},n}function wt(){var n=Object(h.a)(["\n  width: 100%;\n  height: 100%;\n  border-radius: 14px;\n  padding: 14px 20px;\n  display: grid;\n  align-items: center;\n  grid-template-columns: minmax(240px, 2fr) minmax(200px, 1fr);\n  font-family: 'archiasemibold';\n  background-color: ",";\n  color: ",";\n"]);return wt=function(){return n},n}var Ot=m.c.div(wt(),(function(n){return n.theme.channelHeader.bg}),(function(n){return n.theme.channelHeader.text})),Ct=m.c.div(St()),kt=m.c.h2(jt(),(function(n){return n.theme.channelHeader.icon})),Tt=m.c.p(Et()),Rt=m.c.span(yt()),Ut=m.c.div(xt()),Lt=m.c.div(vt(),(function(n){return n.theme.channelHeader.search.placeholder})),At=m.c.input(bt(),(function(n){return n.theme.channelHeader.search.text}),(function(n){return n.theme.channelHeader.search.bg}),(function(n){return n.theme.channelHeader.search.placeholder})),_t=m.c.div(gt()),Pt=m.c.div(pt(),(function(n){var e=n.theme,t=n.status,r=e.directMessages;return"online"===t?r.status.online:"away"===t?r.status.away:r.status.offline})),Nt=m.c.p(mt()),Bt=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={filters:{text:""},status:"offline",usersRef:O.collection("users")},n.handleChange=function(e){var t=e.target,r=t.name,a=t.value;n.setState({filters:Object(oe.a)({},r,a)},(function(){n.setFilters(n.state.filters)}))},n.unsubscribeStarredListener=null,n.setFilters=function(e){(0,n.props.setMessageSearchFilters)(e)},n.clearText=function(){n.setState({filters:{text:""}},(function(){n.setFilters(n.state.filters)}))},n.getStatusForDM=function(){var e=n.props,t=e.otherUsersStatus,r=e.currentChannel;return r&&r.uid?t[r.uid]:"offline"},n.handleStar=function(e){n.starChannel(e)},n.starChannel=function(){var e=n.state.usersRef,t=n.props,r=t.currentUser,a=t.currentChannel,i=[];e.doc(r.uid).get().then((function(n){var t=n.data(),o=(i=t.starred?Object(ie.a)(t.starred):[]).indexOf(a.id);-1===o?i.push(a.id):i.splice(o,1),e.doc(r.uid).update({starred:i}).then((function(){return console.log("starred channels updated")})).catch((function(n){return console.error(n)}))}))},n}return Object(a.a)(t,[{key:"componentDidMount",value:function(){var n=this.state.usersRef,e=this.props,t=e.currentUser,r=e.setStarredChannels;this.unsubscribeStarredListener=n.doc(t.uid).onSnapshot((function(n){var e=n.data();e&&r(e.starred)}))}},{key:"componentWillUnmount",value:function(){this.unsubscribeStarredListener()}},{key:"render",value:function(){var n=this,e=this.props,t=e.currentChannel,r=e.members,a=e.privateChannel,i=this.state.filters,o=this.getStatusForDM();return l.a.createElement(Ot,null,t?l.a.createElement(l.a.Fragment,null,l.a.createElement(Ct,null,l.a.createElement(kt,null,l.a.createElement("span",null,a?"@":"#"," ",t.name)," ",a?null:t.starred?l.a.createElement(y.g,{size:26,onClick:function(){return n.handleStar()}}):l.a.createElement(y.e,{size:26,onClick:function(){return n.handleStar()}})),a?l.a.createElement(_t,null,l.a.createElement(Pt,{status:o})," ",l.a.createElement(Nt,null,o)):l.a.createElement(Tt,null,t.details),a?null:l.a.createElement(Rt,null,r&&1===r.count?"".concat(r.count," member"):"".concat(r.count," members"))),l.a.createElement(Ut,null,l.a.createElement(Lt,null,l.a.createElement(At,{type:"text",name:"text",onChange:this.handleChange,value:i.text,placeholder:"search messages"}),i.text.length?l.a.createElement(y.i,{onClick:this.clearText}):l.a.createElement(y.f,null)))):l.a.createElement(Pe,{style:{backgroundColor:"transparent",gridColumn:"1 / span 2"}}))}}]),t}(l.a.Component),zt=Object(s.b)({members:Hn,privateChannel:Wn,otherUsersStatus:Vn}),It=Object(u.b)(zt,(function(n){return{setMessageSearchFilters:function(e){return n(function(n){return{type:Nn.SET_MESSAGE_SEARCH_FILTERS,payload:n}}(e))},setStarredChannels:function(e){return n(function(n){return{type:Nn.SET_STARRED_CHANNELS,payload:n}}(e))}}}))(Bt);function Dt(){var n=Object(h.a)(["\n  align-self: flex-end;\n  width: 100%;\n"]);return Dt=function(){return n},n}function Mt(){var n=Object(h.a)(["\n  width: 100%;\n  overflow-y: auto;\n  flex: 1 0;\n\n  > :nth-child(n) {\n    margin-bottom: 12px;\n  }\n\n  > :last-child {\n    margin-bottom: 0px;\n  }\n\n  ","\n"]);return Mt=function(){return n},n}function Ft(){var n=Object(h.a)(["\n  width: 100%;\n  min-height: 100%;\n  border-radius: 14px;\n  padding: 20px;\n  background-color: ",";\n  display: flex;\n  flex-direction: column;\n"]);return Ft=function(){return n},n}function Ht(){var n=Object(h.a)(["\n  ::-webkit-scrollbar {\n    width: 10px;\n    height: 10px;\n  }\n  ::-webkit-scrollbar-button {\n    width: 0px;\n    height: 0px;\n  }\n  ::-webkit-scrollbar-thumb {\n    background: ",";\n    opacity: 0.5;\n    border: 0px;\n    border-radius: 50px;\n  }\n  ::-webkit-scrollbar-thumb:hover,\n  ::-webkit-scrollbar-thumb:active {\n    background: ",";\n  }\n\n  ::-webkit-scrollbar-track {\n    border: 0px;\n    border-radius: 50px;\n  }\n  ::-webkit-scrollbar-track,\n  ::-webkit-scrollbar-track:hover,\n  ::-webkit-scrollbar-track:active {\n    background: ",";\n  }\n\n  ::-webkit-scrollbar-corner {\n    background: transparent;\n  }\n"]);return Ht=function(){return n},n}var Gt=Object(m.b)(Ht(),(function(n){return n.theme.scrollbar.fg}),(function(n){return n.theme.scrollbar.fgHover}),(function(n){return n.theme.scrollbar.bg})),Wt=m.c.div(Ft(),(function(n){return n.theme.messages.bg})),Vt=m.c.div(Mt(),Gt),Yt=m.c.div(Dt()),Kt=t(52),qt=t.n(Kt);function Zt(){var n=Object(h.a)(["\n  font-size: 16px;\n  padding-right: 20px;\n  font-family: 'archiaregular';\n  word-break: break-word;\n\n  img {\n    border-radius: 14px;\n    margin-top: 4px;\n    max-width: 400px;\n  }\n"]);return Zt=function(){return n},n}function Jt(){var n=Object(h.a)(["\n  font-family: 'archiasemibold';\n  display: flex;\n  align-items: center;\n  margin-bottom: 3px;\n\n  h2 {\n    font-size: 16px;\n  }\n\n  span {\n    font-size: 14px;\n    color: ",";\n    margin-left: 6px;\n  }\n"]);return Jt=function(){return n},n}function Xt(){var n=Object(h.a)(["\n  color: ",";\n"]);return Xt=function(){return n},n}function $t(){var n=Object(h.a)(["\n  width: 100%;\n  height: 100%;\n  img {\n    width: 54px;\n    height: 54px;\n    align-self: top;\n    border-radius: 14px;\n  }\n"]);return $t=function(){return n},n}function Qt(){var n=Object(h.a)(["\n  display: grid;\n  grid-template-columns: 54px auto;\n  grid-gap: 8px;\n  align-items: center;\n"]);return Qt=function(){return n},n}var nr=m.c.div(Qt()),er=m.c.div($t()),tr=m.c.div(Xt(),(function(n){return n.theme.message.textPrimary})),rr=m.c.div(Jt(),(function(n){return n.theme.message.textSecondary})),ar=m.c.p(Zt()),ir=function(n){var e=n.message,t=void 0===e?{}:e,r=t.content,a=t.timestamp,i=t.user,o=t.image;return l.a.createElement(nr,null,l.a.createElement(er,null,l.a.createElement("img",{src:i.avatar,alt:"avatar"})),l.a.createElement(tr,null,l.a.createElement(rr,null,l.a.createElement("h2",null,i.name)," ",l.a.createElement("span",null,"".concat(function(n){return n?qt()(n.toDate()).fromNow(!0):"just now"}(a)," ago"))),l.a.createElement(ar,{image:!!o},r||l.a.createElement("img",{src:o,alt:"message-attachment"}))))};function or(){var n=Object(h.a)(["\n  @keyframes blink {\n    from {\n      opacity: 1;\n    }\n    to {\n      opacity: 0.25;\n    }\n  }\n\n  width: 8px;\n  height: 8px;\n  border-radius: 10px;\n  margin-left: 4px;\n  background: #6c757d;\n  animation: blink 800ms infinite alternate;\n"]);return or=function(){return n},n}function cr(){var n=Object(h.a)(["\n  border-radius: 99px;\n  padding: 8px;\n  background: ",";\n  display: flex;\n  align-items: center;\n  width: fit-content;\n\n  span {\n    color: ",";\n    font-family: 'archiasemibold';\n    font-size: 13px;\n    margin-right: 2px;\n  }\n"]);return cr=function(){return n},n}function lr(){var n=Object(h.a)(["\n  margin-top: 14px;\n  width: 100%;\n  border-radius: 99px;\n  overflow: hidden;\n  display: flex;\n\n  > :nth-child(n) {\n    margin-right: 10px;\n  }\n\n  > :last-child {\n    margin-right: 0px;\n  }\n"]);return lr=function(){return n},n}var ur=m.c.div(lr()),sr=m.c.div(cr(),(function(n){return n.theme.typingUsers.itemBg}),(function(n){return n.theme.typingUsers.text})),dr=m.c.div(or()),fr=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={typingRef:C.ref("typing"),connectedRef:C.ref(".info/connected"),typing:{}},n.getTypingUsers=function(e){var t=n.state.typing,r=n.props.currentUser;if(t&&t[e]){var a=t[e];return Object.keys(a).filter((function(n){return r.uid!==n})).map((function(n){return a[n]}))}return[]},n}return Object(a.a)(t,[{key:"componentDidMount",value:function(){var n=this,e=this.state,t=e.typingRef,r=e.connectedRef,a=this.props.currentUser;t.on("value",(function(e){n.setState({typing:e.val()})})),r.on("value",(function(e){if(!0===e.val()){var r=n.props.currentChannel;t.child(r.id).child(a.uid).onDisconnect().remove((function(n){n&&console.error(n)}))}}))}},{key:"componentWillUnmount",value:function(){var n=this.state,e=n.typingRef,t=n.connectedRef;e.off(),t.off()}},{key:"render",value:function(){var n=this.props.currentChannel;return l.a.createElement(l.a.Fragment,null,this.getTypingUsers(n.id).length?l.a.createElement(ur,null,this.getTypingUsers(n.id).map((function(n,e){return l.a.createElement(sr,{key:e},l.a.createElement("span",null,n," "),l.a.createElement(dr,{style:{animationDelay:"100ms"}}),l.a.createElement(dr,{style:{animationDelay:"300ms"}}),l.a.createElement(dr,{style:{animationDelay:"500ms"}}))}))):null)}}]),t}(l.a.Component),hr=Object(s.b)({currentUser:U,currentChannel:Fn}),mr=Object(u.b)(hr)(fr),pr=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={messageListeners:{},messages:{},loading:!0},n.scrollToBottom=function(){n.messagesEnd.scrollIntoView()},n.filterMessages=function(e){var t=n.props.filters,r=new RegExp(t.text,"gi");return e?e.reduce((function(n,e){return(e.content&&(e.content.match(r)||e.user.name.match(r))||e.image&&e.user.name.match(r))&&n.push(e),n}),[]):[]},n.addListeners=function(e,t){if(n.state.messageListeners[e]){var r=n.state.messages,a=n.props,i=a.updateMembers,o=a.currentChannel;o&&r[o.id]&&i({count:n.countUniqueMembers(r[o.id]),members:n.getDetailsForMembers(r[o.id])})}else{var c=("direct"===t?O.collection("directMessages/".concat(e)):O.collection("channels").doc(e).collection("messages")).orderBy("timestamp","asc").onSnapshot((function(t){var r=t.docs.map((function(n){return n.data()}));n.setState((function(n){var t=n.messages;return{messages:Object(ce.a)({},t,Object(oe.a)({},e,r)),loading:!1}}))}));n.setState((function(n){var t=n.messageListeners;return{messageListeners:Object(ce.a)({},t,Object(oe.a)({},e,c)),loading:!0}}))}},n.removeListeners=function(){var e=n.state.messageListeners;Object.keys(e).forEach((function(n){e[n]()}))},n.displayMessages=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=n.props.currentUser;return e.map((function(n,e){var r=t.uid===n.user.id;return l.a.createElement(ir,{key:e,message:n,ownMessage:r})}))},n.countUniqueMembers=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=n.reduce((function(n,e){return n.includes(e.user.id)||n.push(e.user.id),n}),[]);return e.length},n.getDetailsForMembers=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e={};return console.log(n),n.forEach((function(n){var t=n.user,r=t.id,a=t.name,i=t.avatar;e[r]={name:a,avatar:i,messagesCount:e[r]&&e[r].messagesCount?e[r].messagesCount+1:1}})),Object.keys(e).map((function(n){return Object(ce.a)({},e[n],{id:n})})).sort((function(n,e){return n.messagesCount>e.messagesCount?-1:n.messagesCount<e.messagesCount?1:0}))},n}return Object(a.a)(t,[{key:"componentDidUpdate",value:function(){var n=this.props,e=n.currentChannel,t=n.currentUser;e&&t&&this.addListeners(e.id,e.type),this.messagesEnd&&this.scrollToBottom()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){var n=this,e=this.state,t=e.messages,r=e.loading,a=this.props.currentChannel;return l.a.createElement(Wt,null,l.a.createElement(Vt,null,a&&!r?this.displayMessages(this.filterMessages(t[a.id])):l.a.createElement(Pe,{style:{backgroundColor:"transparent"}}),l.a.createElement("span",{ref:function(e){return n.messagesEnd=e}})),a&&l.a.createElement(Yt,null,l.a.createElement(mr,null)))}}]),t}(l.a.Component),gr=Object(s.b)({filters:Gn}),br=Object(u.b)(gr,(function(n){return{updateMembers:function(e){return n(function(n){return{type:Nn.UPDATE_CHANNEL_MEMBERS,payload:n}}(e))}}}))(pr),vr=t(105);function xr(){var n=Object(h.a)(["\n  margin-left: 10px;\n  border: 2px solid transparent;\n  font-family: 'archiasemibold';\n  cursor: pointer;\n  outline: none;\n  border-radius: 8px;\n  padding: 6px;\n  min-width: 70px;\n  font-size: 15px;\n\n  &.close {\n    color: ",";\n    background-color: ",";\n    border: 2px solid ",";\n  }\n\n  &.confirm {\n    color: ",";\n    background-color: ",";\n  }\n"]);return xr=function(){return n},n}function yr(){var n=Object(h.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 10px;\n"]);return yr=function(){return n},n}function Er(){var n=Object(h.a)(["\n  width: 100%;\n  display: grid;\n  grid-template-columns: auto 80px 0px;\n\n  label {\n    font-family: 'archiasemibold';\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 6px 12px;\n    font-size: 16px;\n    height: 100%;\n    width: 100%;\n    cursor: pointer;\n    border-radius: 0px 8px 8px 0px;\n    color: ",";\n    background-color: ",";\n  }\n\n  span {\n    min-width: 160px;\n    padding: 8px;\n    border: 0px;\n    background-color: ",";\n    color: ",";\n    border-radius: 8px;\n    font-family: 'archiaregular';\n    font-size: 16px;\n  }\n\n  input {\n    width: 0.1px;\n    height: 0.1px;\n    opacity: 0;\n    overflow: hidden;\n    position: absolute;\n    z-index: -1;\n\n    &:focus {\n      outline: none;\n    }\n\n    &::placeholder {\n      color: ",";\n    }\n  }\n"]);return Er=function(){return n},n}function jr(){var n=Object(h.a)(["\n  display: grid;\n  grid-gap: 10px;\n"]);return jr=function(){return n},n}function Sr(){var n=Object(h.a)(["\n  color: ",";\n  font-size: 20px;\n  font-family: 'archiasemibold';\n"]);return Sr=function(){return n},n}function wr(){var n=Object(h.a)(["\n  padding: 20px;\n  border-radius: 12px;\n  visibility: hidden;\n  background: ",";\n  display: grid;\n  grid-gap: 16px;\n\n  ","\n"]);return wr=function(){return n},n}function Or(){var n=Object(h.a)(["\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  left: 0;\n  position: fixed;\n  z-index: 10;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  visibility: hidden;\n\n  ","\n"]);return Or=function(){return n},n}function Cr(){var n=Object(h.a)(["\n  @keyframes scaleIn {\n    from {\n      opacity: 0;\n      transform: scale(0.5);\n    }\n    to {\n      visibility: visible;\n      opacity: 1;\n      transform: scale(1);\n    }\n  }\n\n  @keyframes scaleOut {\n    from {\n      visibility: ",";\n    }\n    to {\n      visibility: hidden;\n      opacity: 0;\n    }\n  }\n\n  animation-name: ",";\n  animation-duration: 500ms;\n  animation-timing-function: cubic-bezier(0.19, 0.67, 0.01, 1.3);\n  animation-fill-mode: forwards;\n"]);return Cr=function(){return n},n}function kr(){var n=Object(h.a)(["\n  @keyframes opacityIn {\n    from {\n      background-color: transparent;\n    }\n    to {\n      visibility: visible;\n      background-color: ",";\n    }\n  }\n\n  @keyframes opacityOut {\n    from {\n      background-color: ",";\n      /* at start showing is false so in \n      order to avoit flicker issue visibility is set dynamically */\n      visibility: ",";\n    }\n    to {\n      visibility: hidden;\n      background-color: transparent;\n    }\n  }\n\n  animation-name: ",";\n  animation-duration: 500ms;\n  animation-timing-function: ease-in-out;\n  animation-fill-mode: forwards;\n"]);return kr=function(){return n},n}var Tr=Object(m.b)(kr(),(function(n){return n.theme.channels.modal.bg}),(function(n){return n.theme.channels.modal.bg}),(function(n){return n.showing?"visible":"hidden"}),(function(n){return n.showing?"opacityIn":"opacityOut"})),Rr=Object(m.b)(Cr(),(function(n){return n.showing?"visible":"hidden"}),(function(n){return n.showing?"scaleIn":"scaleOut"})),Ur=m.c.div(Or(),Tr),Lr=m.c.form(wr(),(function(n){return n.theme.channels.modal.modalBg}),Rr),Ar=m.c.h2(Sr(),(function(n){return n.theme.channels.modal.textPrimary})),_r=m.c.div(jr()),Pr=m.c.div(Er(),(function(n){return n.theme.channels.modal.textSecondary}),(function(n){return n.theme.channels.modal.textPrimary}),(function(n){return n.theme.channels.modal.bg}),(function(n){return n.theme.channels.modal.textPrimary}),(function(n){return n.theme.channels.modal.textPrimary})),Nr=m.c.div(yr()),Br=m.c.button(xr(),(function(n){return n.theme.channels.modal.textPrimary}),(function(n){return n.theme.channels.modal.textSecondary}),(function(n){return n.theme.channels.modal.textPrimary}),(function(n){return n.theme.channels.modal.textSecondary}),(function(n){return n.theme.channels.modal.textPrimary})),zr=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={file:null},n.handlePropogation=function(n){n.stopPropagation()},n.handleSubmit=function(e){e.preventDefault();var t=n.state.file;(0,n.props.confirm)(t)},n.handleChange=function(e){var t=e.target.files,r=t&&t.length?t[0]:null;n.setState({file:r})},n}return Object(a.a)(t,[{key:"render",value:function(){var n=this.state.file,e=this.props,t=e.showing,r=e.close;return l.a.createElement(Ur,{showing:t,onClick:r},l.a.createElement(Lr,{onClick:this.handlePropogation,onSubmit:this.handleSubmit,showing:t},l.a.createElement(Ar,null,"Add a file"),l.a.createElement(_r,null,l.a.createElement(Pr,null,l.a.createElement("span",null,n?n.name:"select a file"),l.a.createElement("label",{htmlFor:"file"},"choose"),l.a.createElement("input",{type:"file",name:"file",id:"file",accept:"image/*",onChange:this.handleChange}))),l.a.createElement(Nr,null,l.a.createElement(Br,{className:"close",type:"button",onClick:r},"CANCEL"),l.a.createElement(Br,{className:"confirm",type:"submit"},"UPLOAD"))))}}]),t}(l.a.Component),Ir=(t(94),t(60));function Dr(){var n=Object(h.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n  height: 100%;\n  width: 100%;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  opacity: 0.8;\n\n  &[value]::-webkit-progress-bar {\n    background: transparent;\n    border-radius: 14px;\n  }\n\n  &[value]::-webkit-progress-value {\n    background: ",";\n    border-radius: 14px;\n  }\n"]);return Dr=function(){return n},n}function Mr(){var n=Object(h.a)(["\n  @keyframes spin {\n    from {\n      transform: rotate(-45deg);\n    }\n    to {\n      transform: rotate(315deg);\n    }\n  }\n\n  width: 22px;\n  height: 22px;\n  border: 3px solid ",";\n  border-right: 3px solid transparent;\n  border-radius: 20px;\n  animation: linear spin 1s infinite;\n"]);return Mr=function(){return n},n}function Fr(){var n=Object(h.a)(["\n  background-color: ",";\n  color: ",";\n  ","\n\n  &:disabled {\n    cursor: wait;\n  }\n\n  border-radius: 0px 14px 14px 0px;\n"]);return Fr=function(){return n},n}function Hr(){var n=Object(h.a)(["\n  background-color: ",";\n  ","\n  right: 60px;\n"]);return Hr=function(){return n},n}function Gr(){var n=Object(h.a)(["\n  color: ",";\n  ","\n  background: transparent;\n  left: 0;\n  right: none;\n  font-size: 28px;\n  width: 40px;\n  padding-left: 10px;\n\n  &:disabled {\n    cursor: wait;\n  }\n"]);return Gr=function(){return n},n}function Wr(){var n=Object(h.a)(["\n  width: 100%;\n  height: 100%;\n  border-radius: 14px;\n  padding: 14px 134px 14px 44px;\n  background-color: ",";\n  border: 0px;\n  color: ",";\n  font-family: 'archiaregular';\n  font-size: 18px;\n\n  &::placeholder {\n    color: ",";\n  }\n\n  &:focus {\n    outline: none;\n    box-shadow: 0px 0px 0px 2px ",";\n  }\n"]);return Wr=function(){return n},n}function Vr(){var n=Object(h.a)(["\n  width: 100%;\n  height: 60px;\n  border-radius: 14px;\n  position: relative;\n"]);return Vr=function(){return n},n}function Yr(){var n=Object(h.a)(["\n  position: absolute;\n  right: 0;\n  top: -370px;\n\n  .emoji-mart-preview {\n    display: none;\n  }\n"]);return Yr=function(){return n},n}function Kr(){var n=Object(h.a)(["\n  width: 100%;\n  height: 100%;\n  position: relative;\n"]);return Kr=function(){return n},n}function qr(){var n=Object(h.a)(["\n  height: 100%;\n  width: 60px;\n  position: absolute;\n  right: 0;\n  top: 0;\n  border-radius: 14px 0px 0px 14px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 22px;\n  opacity: 0.7;\n  cursor: pointer;\n  transition: ease all 100ms;\n  outline: none;\n  border: none;\n\n  &:hover {\n    opacity: 1;\n  }\n"]);return qr=function(){return n},n}var Zr=Object(m.b)(qr()),Jr=m.c.div(Kr()),Xr=m.c.div(Yr()),$r=m.c.form(Vr()),Qr=m.c.input(Wr(),(function(n){return n.theme.messageInput.bg}),(function(n){return n.theme.messageInput.text}),(function(n){return n.theme.messageInput.placeholder}),(function(n){return n.theme.messageInput.outline})),na=m.c.button(Gr(),(function(n){return n.theme.messageInput.attachFg}),Zr),ea=m.c.button(Hr(),(function(n){return n.theme.messageInput.emojiBg}),Zr),ta=m.c.button(Fr(),(function(n){return n.theme.messageInput.sendBg}),(function(n){return n.theme.messageInput.sendFg}),Zr),ra=m.c.div(Mr(),(function(n){return n.theme.messageInput.sendFg})),aa=m.c.progress(Dr(),(function(n){return n.theme.messageInput.progress})),ia=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={channelsRef:O.collection("channels"),storageRef:k.ref(),typingRef:C.ref("typing"),uploadeState:"",uploadTask:null,percentUploaded:0,message:"",loading:!1,errors:[],modal:!1,emojiPicker:!1},n.handleSubmit=function(e){e.preventDefault(),n.sendMessage()},n.handleChange=function(e){var t=e.target,r=t.name,a=t.value;n.setState(Object(oe.a)({},r,a))},n.sendMessage=function(){var e=n.state,t=e.message,r=e.loading,a=e.typingRef,i=n.props,o=i.currentUser,c=i.currentChannel;if(t&&!r){n.setState({loading:!0});var l=n.getMessageRef(),u=Object(x.a)(l,2),s=u[0],d=u[1];s.set(n.createMessage({id:d.id})).then((function(){n.setState({loading:!1,message:""}),a.child(c.id).child(o.uid).remove()})).catch((function(e){console.error(e),n.setState((function(n){return{errors:n.errors.concat(e),loading:!1}}))}))}},n.getMessageRef=function(){var e=n.props.currentChannel,t=n.state.channelsRef,r=null,a=null;if("direct"===e.type){var i=O.collection("directMessages/".concat(e.id));a=i.doc(),r=i.doc(a.id)}else a=t.doc(e.id).collection("messages").doc(),r=t.doc(e.id).collection("messages").doc(a.id);return[r,a]},n.handleConfirm=function(e){n.setState({modal:!1}),n.uploadeFile(e),console.log("confirmed",e)},n.handleClose=function(){n.setState({modal:!1}),console.log("closed")},n.createMessage=function(e){var t=e.id,r=e.fileUrl,a=n.state.message,i=n.props.currentUser,o={timestamp:T.firestore.FieldValue.serverTimestamp(),id:t,user:{id:i.uid,name:i.displayName,avatar:i.photoURL}};return null!=r?o.image=r:o.content=a,o},n.getPath=function(){var e=n.props.currentChannel;return e&&"direct"===e.type?"chat/private-".concat(e.id):"chat/public"},n.uploadeFile=function(e){var t=n.state.storageRef,r=n.props.currentChannel.id,a="".concat(n.getPath(),"/").concat(Object(vr.a)(),".jpg");n.setState({uploadState:"uploading",uploadTask:t.child(a).put(e)},(function(){n.state.uploadTask.on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);n.setState({percentUploaded:t})}),(function(e){console.error(e),n.setState({errors:n.state.errors.concat(e),uploadState:"error",uploadTask:null})}),(function(){n.state.uploadTask.snapshot.ref.getDownloadURL().then((function(e){n.sendFileMessage(e,r)})).catch((function(e){console.error(e),n.setState((function(n){var t=n.errors;n.uploadState,n.uploadTask;return{errors:t.concat(e),uploadState:"error",uploadTask:null}}))}))}))}))},n.sendFileMessage=function(e,t){var r=n.getMessageRef(),a=Object(x.a)(r,2),i=a[0],o=a[1];i.set(n.createMessage({id:o.id,fileUrl:e})).then((function(){n.setState({uploadState:"done"})})).catch((function(e){console.error(e),n.setState((function(n){return{errors:n.errors.concat(e)}}))}))},n.handleKeyDown=function(){var e=n.state,t=e.message,r=e.typingRef,a=n.props,i=a.currentChannel,o=a.currentUser;i&&t.length>1?r.child(i.id).child(o.uid).set(o.displayName):i&&o&&r.child(i.id).child(o.uid).remove()},n.handleTogglePicker=function(){n.setState((function(n){return{emojiPicker:!n.emojiPicker}}))},n.colonsToUnicode=function(n){return n.replace(/:[A-Za-z0-9_+-]+:/g,(function(n){n=n.replace(/:/g,"");var e=Ir.b.emojis[n];if("undefined"!==typeof e){var t=e.native;if("undefined"!==typeof t)return t}return n=":".concat(n,":")}))},n.handleAddEmoji=function(e){var t=n.state.message,r=n.colonsToUnicode("".concat(t).concat(e.colons));n.setState({message:r,emojiPicker:!1},(function(){return n.messageInputRef.focus()}))},n}return Object(a.a)(t,[{key:"componentWillUnmount",value:function(){null!==this.state.uploadTask&&(this.state.uploadTask.cancel(),this.setState({uploadTask:null}))}},{key:"render",value:function(){var n=this,e=this.state,t=e.message,r=e.loading,a=e.modal,i=e.percentUploaded,o=e.uploadState,c=e.emojiPicker,u=this.props.currentChannel;return l.a.createElement(Jr,null,l.a.createElement(Xr,null,c&&l.a.createElement(Ir.a,{className:"emojipicker",set:"twitter",title:"Pick an emoji",emoji:"point_up",onSelect:this.handleAddEmoji,style:{width:"320px"},color:"#007BFF"})),l.a.createElement(zr,{showing:a,confirm:this.handleConfirm,close:this.handleClose}),l.a.createElement($r,{onSubmit:this.handleSubmit},"uploading"===o?l.a.createElement(aa,{type:"progress",max:"100",value:i}):null,l.a.createElement(Qr,{ref:function(e){return n.messageInputRef=e},required:!0,type:"text",name:"message",onChange:this.handleChange,onKeyDown:this.handleKeyDown,value:t,autocomplete:"off",placeholder:u&&u.name?"message ".concat("direct"===u.type?"@":"#").concat(u.name):"message"}),l.a.createElement(na,{type:"button",onClick:function(){return n.setState({modal:!0})},disabled:"uploading"===o},"uploading"===o?l.a.createElement(ra,null):l.a.createElement(E.a,null)),l.a.createElement(ea,{type:"button",onClick:this.handleTogglePicker},l.a.createElement("span",{role:"img","aria-label":"smile"},"\ud83d\ude42")),l.a.createElement(ta,{type:"submit",disabled:r||!u},r?l.a.createElement(ra,null):l.a.createElement(E.e,null))))}}]),t}(l.a.Component),oa=Object(s.b)({currentUser:U,currentChannel:Fn}),ca=Object(u.b)(oa)((function(n){var e=n.currentUser,t=n.currentChannel;return l.a.createElement(ht,null,l.a.createElement(It,{currentUser:e,currentChannel:t}),l.a.createElement(br,{currentUser:e,currentChannel:t}),l.a.createElement(ia,{currentUser:e,currentChannel:t}))}));function la(){var n=Object(h.a)(["\n  h2 {\n    font-size: 17px;\n  }\n\n  span {\n    font-size: 14px;\n  }\n"]);return la=function(){return n},n}function ua(){var n=Object(h.a)(["\n  display: grid;\n  grid-template-columns: 45px auto;\n  grid-gap: 8px;\n  align-items: center;\n  margin-bottom: 10px;\n\n  h2 {\n    margin-bottom: 0px;\n  }\n\n  img {\n    height: 45px;\n    width: 45px;\n    border-radius: 30px;\n  }\n"]);return ua=function(){return n},n}function sa(){var n=Object(h.a)(["\n  h2 {\n    font-size: 22px;\n    margin-bottom: 10px;\n  }\n\n  > :last-child {\n    margin-bottom: 0px;\n  }\n"]);return sa=function(){return n},n}function da(){var n=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 22px;\n\n  h2 {\n    font-size: 18px;\n    margin-right: 6px;\n  }\n"]);return da=function(){return n},n}function fa(){var n=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 4px;\n\n  h2 {\n    font-size: 18px;\n    margin-right: 6px;\n  }\n"]);return fa=function(){return n},n}function ha(){var n=Object(h.a)(["\n  margin-bottom: 14px;\n\n  h2 {\n    font-size: 22px;\n  }\n"]);return ha=function(){return n},n}function ma(){var n=Object(h.a)(["\n  height: 100%;\n  width: 100%;\n  background-color: ",";\n  border-radius: 14px;\n  padding: 14px 20px;\n\n  h2 {\n    font-family: 'archiasemibold';\n    color: ",";\n  }\n\n  p,\n  span {\n    font-family: 'archiaregular';\n    color: ",";\n    font-size: 16px;\n  }\n"]);return ma=function(){return n},n}function pa(){var n=Object(h.a)(["\n  width: 100%;\n  height: 100%;\n  padding: 14px 14px 14px 0px;\n"]);return pa=function(){return n},n}var ga=m.c.div(pa()),ba=m.c.div(ma(),(function(n){return n.theme.meta.bg}),(function(n){return n.theme.meta.textPrimary}),(function(n){return n.theme.meta.textSecondary})),va=m.c.div(ha()),xa=m.c.div(fa()),ya=m.c.div(da()),Ea=m.c.ul(sa()),ja=m.c.li(ua()),Sa=m.c.div(la()),wa=Object(s.b)({currentChannel:Fn,channelMembers:Hn,isPrivateChannel:Wn}),Oa=Object(u.b)(wa)((function(n){var e,t=n.currentChannel,r=n.channelMembers,a=n.isPrivateChannel;return l.a.createElement(ga,null,l.a.createElement(ba,null,t&&!a?l.a.createElement(l.a.Fragment,null,l.a.createElement(va,null,l.a.createElement("h2",null,"About #",t.name),l.a.createElement("p",null,t.details)),l.a.createElement(xa,null,l.a.createElement("h2",null,"created by"),l.a.createElement("span",null,"@",t.createdBy.name)),l.a.createElement(ya,null,l.a.createElement("h2",null,"created on"),l.a.createElement("span",null,(e=t.createdAt,qt()(e.toDate()).format("Do MMM, YYYY"))))):null,r&&!a&&r.members.length?l.a.createElement(Ea,null,l.a.createElement("h2",null,"Active Members"),r.members.map((function(n,e){var t=n.name,r=n.avatar,a=n.messagesCount;return l.a.createElement(ja,{key:e},l.a.createElement("img",{src:r,alt:"avatar"}),l.a.createElement(Sa,null,l.a.createElement("h2",null,t),l.a.createElement("span",null,a," ",a>1?"messages":"message"," ")))}))):null))})),Ca=function(){return l.a.createElement(g,null,l.a.createElement(dt,null),l.a.createElement(ca,null),l.a.createElement(Oa,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ka=Object(s.b)({currentTheme:B}),Ta=Object(u.b)(ka)((function(n){var e=n.children,t=n.currentTheme,r=Object(ke.a)(n,["children","currentTheme"]);return l.a.createElement(m.a,Object.assign({theme:t},r),e)})),Ra=t(39),Ua=t(53),La=t(28),Aa=t.n(La),_a=t(70),Pa=t(71),Na=t.n(Pa);function Ba(){var n=Object(h.a)(["\n  font-family: 'archiasemibold';\n  display: flex;\n  justify-content: center;\n  div {\n    color: ",";\n    span {\n      margin-right: 2px;\n    }\n  }\n"]);return Ba=function(){return n},n}function za(){var n=Object(h.a)(["\n  background-color: ",";\n  padding: 22px;\n  border-radius: 20px;\n  box-shadow: 0px 0px 20px 0px rgba(0, 0, 0, 0.1);\n  display: grid;\n  grid-gap: 14px;\n  width: 340px;\n\n  button {\n    margin-top: 16px;\n  }\n"]);return za=function(){return n},n}function Ia(){var n=Object(h.a)(["\n  font-family: 'archiasemibold';\n  color: ",";\n  padding-left: 6px;\n  width: 340px;\n"]);return Ia=function(){return n},n}function Da(){var n=Object(h.a)(["\n  display: grid;\n  grid-gap: 20px;\n  justify-content: center;\n  justify-items: center;\n  align-items: center;\n  max-width: 450px;\n"]);return Da=function(){return n},n}function Ma(){var n=Object(h.a)(["\n  height: 100%;\n  width: 100%;\n  background-color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 20px;\n"]);return Ma=function(){return n},n}var Fa=m.c.div(Ma(),(function(n){return n.theme.bg})),Ha=m.c.div(Da()),Ga=m.c.h1(Ia(),(function(n){return n.theme.form.headingText})),Wa=m.c.form(za(),(function(n){return n.theme.form.bg})),Va=m.c.div(Ba(),(function(n){return n.theme.text}));function Ya(){var n=Object(h.a)(["\n  @keyframes spin {\n    from {\n      transform: rotate(-45deg);\n    }\n    to {\n      transform: rotate(315deg);\n    }\n  }\n\n  width: 28px;\n  height: 28px;\n  border: 4px solid ",";\n  border-right: 4px solid transparent;\n  border-radius: 20px;\n  animation: linear spin 1s infinite;\n"]);return Ya=function(){return n},n}function Ka(){var n=Object(h.a)(["\n  border: 0px;\n  background-color: ",";\n  color: ",";\n  padding: 6px;\n  font-family: 'archiasemibold';\n  font-size: ",";\n  width: 100%;\n  height: ",";\n  padding: ",";\n  cursor: pointer;\n  border-radius: 9999px;\n  border: 3px solid transparent;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n\n  /* &:hover {\n    border: 2px solid ",";\n    background-color: ",";\n    color: ",";\n  } */\n\n  &:focus {\n    outline: none;\n    border: 3px dashed ",";\n  }\n"]);return Ka=function(){return n},n}var qa=m.c.button(Ka(),(function(n){var e=n.theme;return n.disabled?e.button.bgDisabled:e.button.bg}),(function(n){return n.theme.button.text}),(function(n){return n.fontSize}),(function(n){var e=n.height;return e||"28px"}),(function(n){return n.padding}),(function(n){return n.theme.button.bg}),(function(n){return n.theme.button.text}),(function(n){return n.theme.button.bg}),(function(n){return n.theme.button.text})),Za=m.c.div(Ya(),(function(n){return n.theme.button.bg})),Ja=function(n){var e=n.children,t=n.loading,r=Object(ke.a)(n,["children","loading"]);return l.a.createElement(qa,r,t?l.a.createElement(Za,null):e)};function Xa(){var n=Object(h.a)(["\n  height: 100%;\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0px 18px;\n"]);return Xa=function(){return n},n}function $a(){var n=Object(h.a)(["\n  background-color: ",";\n  border-radius: 16px;\n  width: 100%;\n  height: 100%;\n  border: 0px;\n  font-family: 'archiasemibold';\n  font-size: ",";\n  color: ",";\n  padding: 14px 20px;\n  padding-left: ",";\n\n  &::placeholder {\n    color: ",";\n  }\n\n  &:focus {\n    outline: none;\n    box-shadow: 0px 0px 0px 3px\n      ",";\n  }\n\n  ","\n\n  /* Change Autocomplete styles in Chrome*/\n  &:-webkit-autofill,\n  &:-webkit-autofill:hover, \n  &:-webkit-autofill:focus {\n    -webkit-text-fill-color: ",";\n  }\n"]);return $a=function(){return n},n}function Qa(){var n=Object(h.a)(["\n  width: 100%;\n  position: relative;\n"]);return Qa=function(){return n},n}function ni(){var n=Object(h.a)(["\n  box-shadow: 0px 0px 0px 3px ",";\n  background-color: ",";\n  color: ",";\n\n  &::placeholder {\n    color: ",";\n  }\n"]);return ni=function(){return n},n}var ei=Object(m.b)(ni(),(function(n){return n.theme.form.error.placeholder}),(function(n){return n.theme.form.error.bg}),(function(n){return n.theme.form.error.text}),(function(n){return n.theme.form.error.placeholder})),ti=m.c.div(Qa()),ri=m.c.input($a(),(function(n){return n.theme.form.field.bg}),(function(n){return n.fontSize||"18px"}),(function(n){return n.theme.form.field.text}),(function(n){return n.Icon?"56px":"20px"}),(function(n){return n.theme.form.field.placeholder}),(function(n){var e=n.theme;return n.error?e.form.error.text:e.form.field.focusBorder}),(function(n){return n.error?ei:""}),(function(n){return n.theme.form.field.text})),ai=m.c.span(Xa()),ii=function(n){var e=n.iconSize,t=n.Icon,r=n.error,a=Object(ke.a)(n,["iconSize","Icon","error"]),i=Object(m.d)();return l.a.createElement(ti,null,l.a.createElement(ai,null,t?l.a.createElement(t,{color:r?i.form.error.placeholder:i.form.field.icon,size:e||24}):""),l.a.createElement(ri,Object.assign({},a,{error:r,Icon:t})))};function oi(){var n=Object(h.a)(["\n  font-family: 'archiaregular';\n  font-size: 16px;\n  margin-top: 4px;\n"]);return oi=function(){return n},n}function ci(){var n=Object(h.a)(["\n  font-size: 22px;\n"]);return ci=function(){return n},n}function li(){var n=Object(h.a)(["\n  width: 100%;\n  background-color: ",";\n  color: ",";\n  font-family: 'archiasemibold';\n  border-radius: 16px;\n  padding: 20px;\n  text-align: center;\n"]);return li=function(){return n},n}var ui=m.c.div(li(),(function(n){return n.theme.form.error.bg}),(function(n){return n.theme.form.error.text})),si=m.c.h2(ci()),di=m.c.p(oi()),fi=function(n){var e=n.errors,t=void 0===e?[{message:"some error occured"}]:e;return l.a.createElement(ui,null,l.a.createElement(si,null,"Error"),t.map((function(n,e){return l.a.createElement(di,{key:e},n.message)})))};function hi(){var n=Object(h.a)(["\n  color: ",";\n  text-decoration: none;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:visited {\n    color: ",";\n  }\n"]);return hi=function(){return n},n}var mi=Object(m.c)(Ua.b)(hi(),(function(n){return n.theme.link.text}),(function(n){return n.theme.link.bg}),(function(n){return n.theme.link.text})),pi=function(n){var e=n.children,t=Object(ke.a)(n,["children"]);return l.a.createElement(mi,t,e)},gi=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={username:"",email:"",password:"",confirmPassword:"",errors:[],loading:!1,usersRef:O.collection("users")},n.isFormValid=function(){var e,t=[];if(n.isFormEmpty(n.state))e={message:"Fill in all fields."},n.setState({errors:t.concat(e)});else{if(n.isPasswordValid(n.state))return!0;e={message:"Password is invalid."},n.setState({errors:t.concat(e)})}},n.isFormEmpty=function(n){var e=n.username,t=n.email,r=n.password,a=n.confirmPassword;return!e.length||!t.length||!r.length||!a.length},n.isPasswordValid=function(n){var e=n.password,t=n.confirmPassword;return!(e.length<6||t.length<6)&&e===t},n.handleSubmit=function(e){e.preventDefault();var t=n.state,r=t.username,a=t.email,i=t.password,o=t.loading;n.isFormValid()&&!o&&(n.setState({errors:[],loading:!0}),w.createUserWithEmailAndPassword(a,i).then(function(){var e=Object(_a.a)(Aa.a.mark((function e(t){var i;return Aa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,n.getAvatarUrl({email:a,uid:t.user.uid});case 3:i=e.sent,t.user.updateProfile({displayName:r,photoURL:i}).then((function(){n.saveUser(t).then((function(){console.log("user saved")}))})).catch((function(e){console.error(e),n.setState((function(n){return{errors:n.errors.concat(e)}}))}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.error(e),n.setState((function(n){return{errors:n.errors.concat(e)}}))})).finally((function(){n.setState({loading:!1})})))},n.saveUser=function(e){var t=n.state.usersRef,r=e.user,a=r.uid,i=r.displayName,o=r.photoURL;return t.doc(a).set({name:i,avatar:o})},n.handleChange=function(e){n.setState(Object(oe.a)({},e.target.name,e.target.value))},n.getAvatarUrl=function(n){var e=n.email,t=n.uid;return new Promise((function(n,r){fetch("https://gravatar.com/avatar/".concat(Na()(e),"?d=retro"),{mode:"cors"}).then((function(n){return n.blob()})).then((function(e){k.ref().child("avatars/user-".concat(t)).put(e,{contentType:"image/jpeg"}).then((function(e){e.ref.getDownloadURL().then((function(e){return n(e)}))})).catch((function(n){console.error(n),r(n)}))})).catch((function(n){console.error(n),r(n)}))}))},n}return Object(a.a)(t,[{key:"handleInputError",value:function(n,e){return n.some((function(n){return n.message.toLowerCase().includes(e)}))}},{key:"render",value:function(){var n=this.state,e=n.username,t=n.email,r=n.password,a=n.confirmPassword,i=n.errors,o=n.loading;return l.a.createElement(Fa,null,l.a.createElement(Ha,null,l.a.createElement(Ga,null,"Register"),l.a.createElement(Wa,{onSubmit:this.handleSubmit},l.a.createElement(ii,{Icon:y.k,name:"username",placeholder:"Username",onChange:this.handleChange,value:e}),l.a.createElement(ii,{Icon:E.b,type:"email",name:"email",placeholder:"Email",onChange:this.handleChange,value:t,error:this.handleInputError(i,"email")}),l.a.createElement(ii,{Icon:y.b,type:"password",name:"password",placeholder:"Password",onChange:this.handleChange,value:r,error:this.handleInputError(i,"password")}),l.a.createElement(ii,{Icon:y.b,type:"password",name:"confirmPassword",placeholder:"Confirm Password",onChange:this.handleChange,value:a,error:this.handleInputError(i,"password")}),l.a.createElement(Ja,{disabled:o,loading:o,height:"50px",type:"submit",fontSize:"18px"},"Submit")),i.length?l.a.createElement(fi,{errors:i}):null,l.a.createElement(Va,null,l.a.createElement("div",null,l.a.createElement("span",null,"Already a user?"),l.a.createElement(pi,{to:"/login"},"\xa0Login\xa0")))))}}]),t}(l.a.Component);function bi(){var n=Object(h.a)(["\n  font-family: 'archiasemibold';\n  display: flex;\n  justify-content: center;\n  div {\n    color: ",";\n    span {\n      margin-right: 2px;\n    }\n  }\n"]);return bi=function(){return n},n}function vi(){var n=Object(h.a)(["\n  background-color: ",";\n  padding: 22px;\n  border-radius: 20px;\n  box-shadow: 0px 0px 20px 0px rgba(0, 0, 0, 0.1);\n  display: grid;\n  grid-gap: 14px;\n  width: 340px;\n\n  button {\n    margin-top: 16px;\n  }\n"]);return vi=function(){return n},n}function xi(){var n=Object(h.a)(["\n  font-family: 'archiasemibold';\n  color: ",";\n  padding-left: 6px;\n  width: 340px;\n"]);return xi=function(){return n},n}function yi(){var n=Object(h.a)(["\n  display: grid;\n  grid-gap: 20px;\n  justify-content: center;\n  justify-items: center;\n  align-items: center;\n  max-width: 450px;\n"]);return yi=function(){return n},n}function Ei(){var n=Object(h.a)(["\n  height: 100%;\n  width: 100%;\n  background-color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 20px;\n"]);return Ei=function(){return n},n}var ji=m.c.div(Ei(),(function(n){return n.theme.bg})),Si=m.c.div(yi()),wi=m.c.h1(xi(),(function(n){return n.theme.form.headingText})),Oi=m.c.form(vi(),(function(n){return n.theme.form.bg})),Ci=m.c.div(bi(),(function(n){return n.theme.text})),ki=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={email:"",password:"",errors:[],loading:!1},n.handleSubmit=function(e){if(e.preventDefault(),n.isFormValid(n.state)){n.setState({errors:[],loading:!0});var t=n.state,r=t.email,a=t.password;w.signInWithEmailAndPassword(r,a).then((function(n){console.log(n)})).catch((function(e){console.error(e),n.setState((function(n){return{errors:n.errors.concat(e),loading:!1}}))}))}},n.isFormValid=function(n){var e=n.email,t=n.password;return e&&t},n.handleChange=function(e){n.setState(Object(oe.a)({},e.target.name,e.target.value))},n}return Object(a.a)(t,[{key:"handleInputError",value:function(n,e){return n.some((function(n){return n.message.toLowerCase().includes(e)}))}},{key:"render",value:function(){var n=this.state,e=n.email,t=n.password,r=n.errors,a=n.loading;return l.a.createElement(ji,null,l.a.createElement(Si,null,l.a.createElement(wi,null,"Login"),l.a.createElement(Oi,{onSubmit:this.handleSubmit},l.a.createElement(ii,{Icon:E.b,type:"email",name:"email",placeholder:"Email",onChange:this.handleChange,value:e,error:this.handleInputError(r,"email")}),l.a.createElement(ii,{Icon:y.b,type:"password",name:"password",placeholder:"Password",onChange:this.handleChange,value:t,error:this.handleInputError(r,"password")}),l.a.createElement(Ja,{disabled:a,loading:a,height:"50px",type:"submit",fontSize:"18px"},"Submit")),r.length?l.a.createElement(fi,{errors:r}):null,l.a.createElement(Ci,null,l.a.createElement("div",null,l.a.createElement("span",null,"Don't have an account?"),l.a.createElement(pi,{to:"/register"},"\xa0Register\xa0")))))}}]),t}(l.a.Component),Ti=t(34),Ri=(t(100),t(73)),Ui=t(74),Li={red:"#FF073A",littleLightRed:"rgba(255, 7, 58, 0.5)",lightRed:"rgba(255, 7, 58, 0.12)",green:"#28A745",pastelGreen:"#41F56A",lightGreen:"rgba(40, 167, 69, 0.12)",blue:"#007BFF",lightBlue:"rgba(0, 122, 255, 0.12)",gray:"#6C757D",littleLightGray:"rgba(108, 117, 125, 0.5)",littleLighterGray:"rgba(108, 117, 125, 0.25)",lightGray:"rgba(108, 117, 125, 0.12)",veryLightGray:"rgba(108, 117, 125, 0.06)",black:"#3E3E3E",littleDarkerBlack:"#1E1E1E",darkerBlack:"#141414",white:"#FFFFFF",lightWhite:"rgba(255, 255, 255, 0.6)",veryLightWhite:"rgba(255, 255, 255, 0.2)",lightest:"#F9F9FB",yellow:"#FFC400",lightYellow:"rgba(255, 196, 0, 0.12)"},Ai={light:{name:"light",bg:Li.lightest,text:Li.gray,scrollbar:{bg:Li.lightGray,fg:Li.littleLighterGray,fgHover:Li.littleLightGray},sidePanel:{bg:Li.white},message:{textPrimary:Li.black,textSecondary:Li.littleLightGray},messages:{bg:Li.white},typingUsers:{itemBg:Li.veryLightGray,dot:Li.gray,text:Li.gray},messageInput:{bg:Li.white,attachFg:Li.gray,emojiBg:Li.lightYellow,sendBg:Li.lightBlue,sendFg:Li.blue,placeholder:Li.gray,text:Li.black,outline:Li.blue,errorBg:Li.lightRed,progress:Li.lightGreen},channelHeader:{bg:Li.white,text:Li.black,icon:Li.yellow,search:{text:Li.gray,placeholder:Li.littleLightGray,bg:Li.lightGray},status:{online:Li.green,offline:Li.red,away:Li.yellow}},userStatusCard:{bg:Li.blue,text:Li.white,subText:Li.lightest,icon:Li.lightest,optionBg:Li.veryLightWhite,statusColors:{online:Li.pastelGreen,offline:Li.red,away:Li.yellow},modal:{bg:Li.lightBlue,modalBg:Li.white,textPrimary:Li.blue,textSecondary:Li.white,buttonPrimary:Li.blue,buttonSeconday:Li.white}},starred:{bg:Li.lightYellow,text:Li.yellow,hover:Li.lightYellow,icon:Li.yellow},channels:{bg:Li.lightBlue,text:Li.blue,hover:Li.lightBlue,icon:Li.blue,modal:{bg:Li.lightBlue,modalBg:Li.white,textPrimary:Li.blue,textSecondary:Li.white,buttonPrimary:Li.blue,buttonSeconday:Li.white},notificationsBg:Li.white,notificationsFg:Li.blue},directMessages:{bg:Li.lightBlue,text:Li.blue,hover:Li.lightBlue,icon:Li.blue,status:{online:Li.green,offline:Li.red,away:Li.yellow}},meta:{bg:Li.white,textPrimary:Li.black,textSecondary:Li.gray},spinner:{bg:Li.lightest,text:Li.blue,loaderFg:Li.blue,loaderBg:Li.lightBlue},form:{bg:Li.white,headingText:Li.gray,text:Li.gray,field:{icon:Li.gray,text:Li.gray,bg:Li.lightest,placeholder:Li.littleLightGray,focusBorder:Li.blue},error:{bg:Li.lightRed,text:Li.red,placeholder:Li.littleLightRed}},button:{text:Li.white,bg:Li.blue,bgDisabled:Li.lightBlue},link:{bg:Li.lightBlue,text:Li.blue}},dark:{name:"dark",bg:Li.littleDarkerBlack,text:Li.white,scrollbar:{bg:Li.lightGray,fg:Li.littleLighterGray,fgHover:Li.littleLightGray},sidePanel:{bg:Li.darkerBlack},message:{textPrimary:Li.white,textSecondary:Li.lightWhite},messages:{bg:Li.darkerBlack},typingUsers:{itemBg:Li.littleDarkerBlack,dot:Li.lightWhite,text:Li.lightWhite},messageInput:{bg:Li.darkerBlack,attachFg:Li.lightWhite,emojiBg:Li.lightYellow,sendBg:Li.lightBlue,sendFg:Li.blue,placeholder:Li.lightWhite,text:Li.white,outline:Li.blue,errorBg:Li.lightRed,progress:Li.lightGreen},channelHeader:{bg:Li.darkerBlack,text:Li.white,icon:Li.yellow,search:{text:Li.white,placeholder:Li.littleWhite,bg:Li.littleDarkerBlack},status:{online:Li.green,offline:Li.red,away:Li.yellow}},userStatusCard:{bg:Li.blue,text:Li.white,subText:Li.lightest,icon:Li.lightest,optionBg:Li.veryLightWhite,statusColors:{online:Li.pastelGreen,offline:Li.red,away:Li.yellow},modal:{bg:Li.lightBlue,modalBg:Li.darkerBlack,textPrimary:Li.blue,textSecondary:Li.littleDarkerBlack,buttonPrimary:Li.blue,buttonSeconday:Li.littleDarkerBlack}},starred:{bg:Li.lightYellow,text:Li.yellow,hover:Li.lightYellow,icon:Li.yellow},channels:{bg:Li.lightBlue,text:Li.blue,hover:Li.lightBlue,icon:Li.blue,modal:{bg:Li.lightBlue,modalBg:Li.darkerBlack,textPrimary:Li.blue,textSecondary:Li.littleDarkerBlack,buttonPrimary:Li.littleDarkerBlack,buttonSeconday:Li.littleDarkerBlack},notificationsBg:Li.white,notificationsFg:Li.blue},directMessages:{bg:Li.lightBlue,text:Li.blue,hover:Li.lightBlue,icon:Li.blue,status:{online:Li.green,offline:Li.red,away:Li.yellow}},meta:{bg:Li.darkerBlack,textPrimary:Li.white,textSecondary:Li.lightWhite},spinner:{bg:Li.littleDarkerBlack,text:Li.blue,loaderFg:Li.blue,loaderBg:Li.lightBlue},form:{bg:Li.darkerBlack,headingText:Li.white,text:Li.white,field:{icon:Li.white,text:Li.white,bg:Li.littleDarkerBlack,placeholder:Li.gray,focusBorder:Li.blue},error:{bg:Li.lightRed,text:Li.red,placeholder:Li.littleLightRed}},button:{text:Li.darkerBlack,bg:Li.blue,bgDisabled:Li.lightBlue},link:{bg:Li.lightBlue,text:Li.blue}}},_i={currentTheme:Ai.light},Pi=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case N.SET_THEME:return Object(ce.a)({},n,{currentTheme:Ai[e.payload]});default:return n}},Ni={currentUser:null,isLoading:!0,status:"online"},Bi=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ni,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case _.SET_USER_IS_LOADING:return Object(ce.a)({},n,{isLoading:e.payload});case _.CLEAR_CURRENT_USER:return Object(ce.a)({},n,{currentUser:null,isLoading:!1});case _.SET_CURRENT_USER:return Object(ce.a)({},n,{currentUser:e.payload,isLoading:!1});case _.SET_USER_STATUS:return Object(ce.a)({},n,{status:e.payload});default:return n}},zi={currentChannel:null,channels:null,channelMembers:0,messageSearchFilters:{text:""},isPrivateChannel:!1,otherUsersStatus:{},starredChannels:null},Ii=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Nn.SET_CHANNELS:return Object(ce.a)({},n,{channels:e.payload});case Nn.SET_CURRENT_CHANNEL:return Object(ce.a)({},n,{currentChannel:e.payload});case Nn.UPDATE_CHANNEL_MEMBERS:return Object(ce.a)({},n,{channelMembers:e.payload});case Nn.SET_MESSAGE_SEARCH_FILTERS:return Object(ce.a)({},n,{messageSearchFilters:Object(ce.a)({},n.messageSearchFilters,{},e.payload)});case Nn.SET_PRIVATE_CHANNEL:return Object(ce.a)({},n,{isPrivateChannel:e.payload});case Nn.SET_OTHER_USERS_STATUS:return Object(ce.a)({},n,{otherUsersStatus:e.payload});case Nn.SET_STARRED_CHANNELS:return Object(ce.a)({},n,{starredChannels:e.payload});default:return n}},Di=Object(Ti.combineReducers)({theme:Pi,user:Bi,chat:Ii}),Mi=t(32),Fi=function(n,e){return void 0!==e&&n.map((function(n){return e.includes(n.id)?n.starred=!0:n.starred=!1,n})),Object(ie.a)(n)},Hi=Aa.a.mark(Vi),Gi=Aa.a.mark(Yi),Wi=Aa.a.mark(Ki);function Vi(n){var e,t,r,a,i;return Aa.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return e=n.payload,t=e,o.next=4,Object(Mi.d)(Mn);case 4:return r=o.sent,a=Fi(r,t),o.next=8,Object(Mi.c)(Bn(a));case 8:return o.next=10,Object(Mi.d)(Fn);case 10:if(i=o.sent,!t){o.next=15;break}return i=t.includes(i.id)?Object(ce.a)({},i,{starred:!0}):Object(ce.a)({},i,{starred:!1}),o.next=15,Object(Mi.c)(zn(i));case 15:case"end":return o.stop()}}),Hi)}function Yi(){return Aa.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Mi.e)(Nn.SET_STARRED_CHANNELS,Vi);case 2:case"end":return n.stop()}}),Gi)}function Ki(){return Aa.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Mi.a)([Object(Mi.b)(Yi)]);case 2:case"end":return n.stop()}}),Wi)}var qi=Aa.a.mark(Zi);function Zi(){return Aa.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Mi.a)([Object(Mi.b)(Ki)]);case 2:case"end":return n.stop()}}),qi)}var Ji=Object(Ui.a)(),Xi=[Ji];var $i=Object(Ti.createStore)(Di,Object(Ri.composeWithDevTools)(Ti.applyMiddleware.apply(void 0,Xi)));Ji.run(Zi);var Qi=$i,no=function(n){Object(o.a)(t,n);var e=Object(i.a)(t);function t(){var n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).unsubscribeFromAuth=null,n}return Object(a.a)(t,[{key:"componentDidMount",value:function(){var n=this.props,e=n.history,t=n.setCurrentUser,r=n.clearCurrentUser;this.unsubscribeFromAuth=w.onAuthStateChanged((function(n){n?(t(n),e.push("/")):(e.push("/login"),r())}))}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){return this.props.isLoading?l.a.createElement(Pe,null):l.a.createElement(Ra.c,null,l.a.createElement(Ra.a,{exact:!0,path:"/",component:Ca}),l.a.createElement(Ra.a,{exact:!0,path:"/register",component:gi}),l.a.createElement(Ra.a,{exact:!0,path:"/login",component:ki}))}}]),t}(l.a.Component),eo=Object(s.b)({isLoading:L}),to=Object(Ra.f)(Object(u.b)(eo,(function(n){return{setCurrentUser:function(e){return n(P(e))},clearCurrentUser:function(){return n({type:_.CLEAR_CURRENT_USER})}}}))(no));f.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(u.a,{store:Qi},l.a.createElement(Ta,null,l.a.createElement(Ua.a,{basename:"/"},l.a.createElement(to,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))},76:function(n,e,t){n.exports=t(101)},85:function(n,e,t){}},[[76,1,2]]]);
//# sourceMappingURL=main.f6202917.chunk.js.map